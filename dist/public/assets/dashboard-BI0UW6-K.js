import{c as $,r as o,j as e,am as x,a as f,aj as q,aF as H,au as N,f as Y,u as G,g as W,aO as X,B as u,i as h,ag as v,ah as g,aN as j,m as p,k as K,aa as Q}from"./index-CVG39mOU.js";import{L as b}from"./log-out-Q_tkZFP5.js";import{U as A}from"./user-DwLQqPr7.js";import{M as J}from"./mail-DqcgXXiO.js";import{C as Z}from"./calendar-YPDYvO78.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=$("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);var ee="Separator",L="horizontal",ae=["horizontal","vertical"],S=o.forwardRef((a,t)=>{const{decorative:r,orientation:i=L,...n}=a,s=te(i)?i:L,l=r?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return e.jsx(x.div,{"data-orientation":s,...l,...n,ref:t})});S.displayName=ee;function te(a){return ae.includes(a)}var R=S;const E=o.forwardRef(({className:a,orientation:t="horizontal",decorative:r=!0,...i},n)=>e.jsx(R,{ref:n,decorative:r,orientation:t,className:f("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",a),...i}));E.displayName=R.displayName;var y="Avatar",[se,fe]=q(y),[re,I]=se(y),P=o.forwardRef((a,t)=>{const{__scopeAvatar:r,...i}=a,[n,s]=o.useState("idle");return e.jsx(re,{scope:r,imageLoadingStatus:n,onImageLoadingStatusChange:s,children:e.jsx(x.span,{...i,ref:t})})});P.displayName=y;var F="AvatarImage",M=o.forwardRef((a,t)=>{const{__scopeAvatar:r,src:i,onLoadingStatusChange:n=()=>{},...s}=a,c=I(F,r),l=ie(i,s),d=H(m=>{n(m),c.onImageLoadingStatusChange(m)});return N(()=>{l!=="idle"&&d(l)},[l,d]),l==="loaded"?e.jsx(x.img,{...s,ref:t,src:i}):null});M.displayName=F;var T="AvatarFallback",_=o.forwardRef((a,t)=>{const{__scopeAvatar:r,delayMs:i,...n}=a,s=I(T,r),[c,l]=o.useState(i===void 0);return o.useEffect(()=>{if(i!==void 0){const d=window.setTimeout(()=>l(!0),i);return()=>window.clearTimeout(d)}},[i]),c&&s.imageLoadingStatus!=="loaded"?e.jsx(x.span,{...n,ref:t}):null});_.displayName=T;function C(a,t){return a?t?(a.src!==t&&(a.src=t),a.complete&&a.naturalWidth>0?"loaded":"loading"):"error":"idle"}function ie(a,{referrerPolicy:t,crossOrigin:r}){const i=le(),n=o.useRef(null),s=i?(n.current||(n.current=new window.Image),n.current):null,[c,l]=o.useState(()=>C(s,a));return N(()=>{l(C(s,a))},[s,a]),N(()=>{const d=B=>()=>{l(B)};if(!s)return;const m=d("loaded"),w=d("error");return s.addEventListener("load",m),s.addEventListener("error",w),t&&(s.referrerPolicy=t),typeof r=="string"&&(s.crossOrigin=r),()=>{s.removeEventListener("load",m),s.removeEventListener("error",w)}},[s,r,t]),c}function ne(){return()=>{}}function le(){return o.useSyncExternalStore(ne,()=>!0,()=>!1)}var O=P,V=M,U=_;const z=o.forwardRef(({className:a,...t},r)=>e.jsx(O,{ref:r,className:f("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...t}));z.displayName=O.displayName;const oe=o.forwardRef(({className:a,...t},r)=>e.jsx(V,{ref:r,className:f("aspect-square h-full w-full",a),...t}));oe.displayName=V.displayName;const D=o.forwardRef(({className:a,...t},r)=>e.jsx(U,{ref:r,className:f("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...t}));D.displayName=U.displayName;const he=()=>{var l;const{user:a,logout:t,isLoading:r}=Y(),[,i]=G(),{toast:n}=W(),s=async()=>{try{await t(),n({title:"Logged out",description:"You have been successfully logged out."}),i("/")}catch(d){n({title:"Logout failed",description:d.message||"Failed to logout",variant:"destructive"})}},c=d=>new Date(d).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return r?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),e.jsx("p",{children:"Loading your dashboard..."})]})}):e.jsx(X,{children:e.jsx("div",{className:"pt-16",children:e.jsx("section",{className:"pt-20 pb-16",children:e.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-8",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(z,{className:"h-16 w-16",children:e.jsx(D,{className:"text-lg font-semibold",children:(l=a==null?void 0:a.username)==null?void 0:l.slice(0,2).toUpperCase()})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold","data-testid":"text-dashboard-title",children:["Welcome back, ",a==null?void 0:a.username,"!"]}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your account and preferences"})]})]}),e.jsxs(u,{onClick:s,variant:"outline",className:"mt-4 md:mt-0","data-testid":"button-logout",children:[e.jsx(b,{className:"mr-2 h-4 w-4"}),"Logout"]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs(h,{className:"lg:col-span-2","data-testid":"card-user-profile",children:[e.jsxs(v,{children:[e.jsxs(g,{className:"flex items-center",children:[e.jsx(A,{className:"mr-2 h-5 w-5"}),"Profile Information"]}),e.jsx(j,{children:"Your account details and verification status"})]}),e.jsxs(p,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(A,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"font-medium",children:"Username:"}),e.jsx("span",{"data-testid":"text-username",children:a==null?void 0:a.username})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(J,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"font-medium",children:"Email:"}),e.jsx("span",{"data-testid":"text-email",children:a==null?void 0:a.email}),e.jsx(K,{variant:(a==null?void 0:a.emailVerified)==="true"?"default":"secondary",className:"ml-2","data-testid":"badge-email-verification",children:(a==null?void 0:a.emailVerified)==="true"?e.jsxs(e.Fragment,{children:[e.jsx(Q,{className:"mr-1 h-3 w-3"}),"Verified"]}):e.jsxs(e.Fragment,{children:[e.jsx(k,{className:"mr-1 h-3 w-3"}),"Unverified"]})})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Z,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"font-medium",children:"Member since:"}),e.jsx("span",{"data-testid":"text-member-since",children:a!=null&&a.createdAt?c(a.createdAt):"Unknown"})]})]}),(a==null?void 0:a.emailVerified)!=="true"&&e.jsxs("div",{className:"p-4 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(k,{className:"h-4 w-4 text-yellow-600 dark:text-yellow-400 mr-2"}),e.jsx("span",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200",children:"Email Verification Required"})]}),e.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300 mt-1",children:"Please check your email and click the verification link to activate your account."})]})]})]}),e.jsxs(h,{"data-testid":"card-quick-actions",children:[e.jsxs(v,{children:[e.jsx(g,{children:"Quick Actions"}),e.jsx(j,{children:"Common tasks and navigation"})]}),e.jsxs(p,{className:"space-y-4",children:[e.jsx(u,{variant:"outline",className:"w-full justify-start",onClick:()=>i("/solutions"),"data-testid":"button-explore-solutions",children:"Explore Solutions"}),e.jsx(u,{variant:"outline",className:"w-full justify-start",onClick:()=>i("/contact"),"data-testid":"button-contact-support",children:"Contact Support"}),e.jsx(u,{variant:"outline",className:"w-full justify-start",onClick:()=>i("/resources"),"data-testid":"button-view-resources",children:"View Resources"}),e.jsx(E,{}),e.jsxs(u,{variant:"destructive",className:"w-full justify-start",onClick:s,"data-testid":"button-logout-sidebar",children:[e.jsx(b,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]})]}),e.jsx("div",{className:"mt-8",children:e.jsxs(h,{"data-testid":"card-account-stats",children:[e.jsxs(v,{children:[e.jsx(g,{children:"Account Overview"}),e.jsx(j,{children:"Your activity and account status"})]}),e.jsx(p,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center p-4 bg-primary/5 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-primary","data-testid":"text-account-status",children:(a==null?void 0:a.emailVerified)==="true"?"Active":"Pending"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Account Status"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400","data-testid":"text-security-score",children:"Good"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Security Score"})]}),e.jsxs("div",{className:"text-center p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400","data-testid":"text-plan",children:"Free"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Current Plan"})]})]})})]})})]})})})})})};export{he as default};
