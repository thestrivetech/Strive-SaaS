import{j as e,W as v,X as b,Y as w,Z as y}from"./ui-IPfy7Xqm.js";import{c as d,u as R,a as S,x as V,B as i,b as o,t as m,v as x,w as u,e as h,d as F}from"./index-COCmHM2n.js";import{r as c}from"./vendor-D5kWzPn1.js";import{u as U}from"./router-DWNX4H0c.js";import{a8 as p,a7 as N,a6 as B,w as D,aB as g,as as E}from"./icons-hupWuaYK.js";import"./query-DjXntliW.js";import"./utils-B2rm_Apj.js";import"./pwa-pECmu2PR.js";const k=c.forwardRef(({className:s,orientation:a="horizontal",decorative:t=!0,...l},r)=>e.jsx(v,{ref:r,decorative:t,orientation:a,className:d("shrink-0 bg-border",a==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",s),...l}));k.displayName=v.displayName;const C=c.forwardRef(({className:s,...a},t)=>e.jsx(b,{ref:t,className:d("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...a}));C.displayName=b.displayName;const P=c.forwardRef(({className:s,...a},t)=>e.jsx(w,{ref:t,className:d("aspect-square h-full w-full",s),...a}));P.displayName=w.displayName;const L=c.forwardRef(({className:s,...a},t)=>e.jsx(y,{ref:t,className:d("flex h-full w-full items-center justify-center rounded-full bg-muted",s),...a}));L.displayName=y.displayName;const X=()=>{var f;const{user:s,logout:a,isLoading:t}=R(),[,l]=U(),{toast:r}=S(),j=async()=>{try{await a(),r({title:"Logged out",description:"You have been successfully logged out."}),l("/")}catch(n){r({title:"Logout failed",description:n.message||"Failed to logout",variant:"destructive"})}},A=n=>new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return t?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),e.jsx("p",{children:"Loading your dashboard..."})]})}):e.jsx(V,{children:e.jsx("div",{className:"pt-16",children:e.jsx("section",{className:"pt-20 pb-16",children:e.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-8",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(C,{className:"h-16 w-16",children:e.jsx(L,{className:"text-lg font-semibold",children:(f=s==null?void 0:s.username)==null?void 0:f.slice(0,2).toUpperCase()})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold","data-testid":"text-dashboard-title",children:["Welcome back, ",s==null?void 0:s.username,"!"]}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your account and preferences"})]})]}),e.jsxs(i,{onClick:j,variant:"outline",className:"mt-4 md:mt-0","data-testid":"button-logout",children:[e.jsx(p,{className:"mr-2 h-4 w-4"}),"Logout"]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs(o,{className:"lg:col-span-2","data-testid":"card-user-profile",children:[e.jsxs(m,{children:[e.jsxs(x,{className:"flex items-center",children:[e.jsx(N,{className:"mr-2 h-5 w-5"}),"Profile Information"]}),e.jsx(u,{children:"Your account details and verification status"})]}),e.jsxs(h,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(N,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"font-medium",children:"Username:"}),e.jsx("span",{"data-testid":"text-username",children:s==null?void 0:s.username})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(B,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"font-medium",children:"Email:"}),e.jsx("span",{"data-testid":"text-email",children:s==null?void 0:s.email}),e.jsx(F,{variant:(s==null?void 0:s.emailVerified)==="true"?"default":"secondary",className:"ml-2","data-testid":"badge-email-verification",children:(s==null?void 0:s.emailVerified)==="true"?e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"mr-1 h-3 w-3"}),"Verified"]}):e.jsxs(e.Fragment,{children:[e.jsx(g,{className:"mr-1 h-3 w-3"}),"Unverified"]})})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(E,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"font-medium",children:"Member since:"}),e.jsx("span",{"data-testid":"text-member-since",children:s!=null&&s.createdAt?A(s.createdAt):"Unknown"})]})]}),(s==null?void 0:s.emailVerified)!=="true"&&e.jsxs("div",{className:"p-4 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(g,{className:"h-4 w-4 text-yellow-600 dark:text-yellow-400 mr-2"}),e.jsx("span",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200",children:"Email Verification Required"})]}),e.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300 mt-1",children:"Please check your email and click the verification link to activate your account."})]})]})]}),e.jsxs(o,{"data-testid":"card-quick-actions",children:[e.jsxs(m,{children:[e.jsx(x,{children:"Quick Actions"}),e.jsx(u,{children:"Common tasks and navigation"})]}),e.jsxs(h,{className:"space-y-4",children:[e.jsx(i,{variant:"outline",className:"w-full justify-start",onClick:()=>l("/solutions"),"data-testid":"button-explore-solutions",children:"Explore Solutions"}),e.jsx(i,{variant:"outline",className:"w-full justify-start",onClick:()=>l("/contact"),"data-testid":"button-contact-support",children:"Contact Support"}),e.jsx(i,{variant:"outline",className:"w-full justify-start",onClick:()=>l("/resources"),"data-testid":"button-view-resources",children:"View Resources"}),e.jsx(k,{}),e.jsxs(i,{variant:"destructive",className:"w-full justify-start",onClick:j,"data-testid":"button-logout-sidebar",children:[e.jsx(p,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]})]}),e.jsx("div",{className:"mt-8",children:e.jsxs(o,{"data-testid":"card-account-stats",children:[e.jsxs(m,{children:[e.jsx(x,{children:"Account Overview"}),e.jsx(u,{children:"Your activity and account status"})]}),e.jsx(h,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center p-4 bg-primary/5 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-primary","data-testid":"text-account-status",children:(s==null?void 0:s.emailVerified)==="true"?"Active":"Pending"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Account Status"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400","data-testid":"text-security-score",children:"Good"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Security Score"})]}),e.jsxs("div",{className:"text-center p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400","data-testid":"text-plan",children:"Free"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Current Plan"})]})]})})]})})]})})})})})};export{X as default};
