{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/garre/STRIVE/sai-engine/components/Shared/Avatars.tsx"],"sourcesContent":["// app/components/Shared/Avatars.tsx\r\n'use client';\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { Bot, UserRound } from 'lucide-react';\r\n\r\nconst MOBILE_AVATAR_SIZE = 65;\r\nconst DESKTOP_AVATAR_SIZE = 80;\r\n\r\n// Bot icon component\r\nconst WhiteBotIcon: React.FC<{ size?: number; className?: string; style?: React.CSSProperties }> = ({ \r\n  size = 50, \r\n  className = \"\", \r\n  style = {} \r\n}) => (\r\n  <div \r\n    className={`flex items-center justify-center ${className}`}\r\n    style={{ \r\n      width: `${size}px`, \r\n      height: `${size}px`, \r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n      ...style \r\n    }}\r\n  >\r\n    <div \r\n      className=\"rounded-full bg-gradient-to-br from-brand-dark-blue via-brand-dark-blue-light to-brand-dark-blue flex items-center justify-center shadow-lg ring-2 ring-white\"\r\n      style={{ \r\n        width: `${size * 0.8}px`, \r\n        height: `${size * 0.8}px`,\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center'\r\n      }}\r\n    >\r\n      <Bot size={size * 0.45} className=\"text-white\" strokeWidth={2} />\r\n    </div>\r\n  </div>\r\n);\r\n\r\n// User avatar component\r\nexport const UserAvatar: React.FC<{ size?: number; className?: string }> = ({ size = 50, className = \"\" }) => {\r\n  const [isMobile, setIsMobile] = useState(false);\r\n  \r\n  useEffect(() => {\r\n    const checkMobile = () => setIsMobile(window.innerWidth < 768);\r\n    checkMobile();\r\n    window.addEventListener('resize', checkMobile);\r\n    return () => window.removeEventListener('resize', checkMobile);\r\n  }, []);\r\n  \r\n  const avatarSize = isMobile ? MOBILE_AVATAR_SIZE : size;\r\n  \r\n  return (\r\n    <motion.div \r\n      className={`flex items-center justify-center ${className}`}\r\n      style={{ \r\n        width: `${avatarSize}px`, \r\n        height: `${avatarSize}px`,\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        margin: '0 auto'\r\n      }}\r\n      whileHover={{ scale: 1.1 }}\r\n      transition={{ duration: 0.2 }}\r\n    >\r\n      <div \r\n        className=\"rounded-full bg-gradient-to-br from-primary-500 via-primary-600 to-primary-700 flex items-center justify-center shadow-lg ring-2 ring-white\"\r\n        style={{ \r\n          width: `${avatarSize * 0.8}px`, \r\n          height: `${avatarSize * 0.8}px`,\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center'\r\n        }}\r\n      >\r\n        <UserRound \r\n          size={avatarSize * 0.45} \r\n          className=\"text-white\" \r\n          strokeWidth={2} \r\n          style={{ display: 'block' }}\r\n        />\r\n      </div>\r\n    </motion.div>\r\n  );\r\n};\r\n\r\n// Base avatar component\r\nconst BaseAvatar: React.FC<{\r\n  size?: number;\r\n  isAnimating?: boolean;\r\n  animationConfig?: any;\r\n  className?: string;\r\n  style?: React.CSSProperties;\r\n}> = ({ size = 50, isAnimating = false, animationConfig = {}, className = \"\", style = {} }) => {\r\n  return isAnimating ? (\r\n    <motion.div \r\n      className={className} \r\n      animate={animationConfig.animate} \r\n      transition={animationConfig.transition} \r\n      style={{ \r\n        display: 'flex', \r\n        alignItems: 'center', \r\n        justifyContent: 'center', \r\n        ...style \r\n      }}\r\n    >\r\n      <WhiteBotIcon size={size} />\r\n    </motion.div>\r\n  ) : (\r\n    <WhiteBotIcon size={size} className={className} style={style} />\r\n  );\r\n};\r\n\r\n// Main Sai avatar with glow effect\r\nexport const SaiAvatar: React.FC<{ size?: number; className?: string }> = ({ size = 60, className = \"\" }) => {\r\n  const [isMobile, setIsMobile] = useState(false);\r\n  \r\n  useEffect(() => {\r\n    const checkMobile = () => setIsMobile(window.innerWidth < 768);\r\n    checkMobile();\r\n    window.addEventListener('resize', checkMobile);\r\n    return () => window.removeEventListener('resize', checkMobile);\r\n  }, []);\r\n  \r\n  const avatarSize = isMobile ? MOBILE_AVATAR_SIZE : size;\r\n  \r\n  return (\r\n    <motion.div\r\n      className={`flex items-center justify-center relative ${className}`}\r\n      whileHover={{ scale: 1.2 }}\r\n      transition={{ duration: 0.3, ease: \"easeInOut\" }}\r\n    >\r\n      <motion.div\r\n        className=\"absolute inset-0 rounded-full bg-primary-500\"\r\n        animate={{\r\n          scale: [1, 1.4, 1.2, 1.6, 1],\r\n          opacity: [0.1, 0.3, 0.15, 0.4, 0.1],\r\n          filter: [\"blur(8px) brightness(1)\", \"blur(12px) brightness(1.2)\", \"blur(10px) brightness(1.1)\", \"blur(15px) brightness(1.3)\", \"blur(8px) brightness(1)\"]\r\n        }}\r\n        transition={{ duration: 4, repeat: Infinity, ease: \"easeInOut\", repeatType: \"reverse\" }}\r\n        style={{ width: `${avatarSize + 30}px`, height: `${avatarSize + 30}px`, left: '-15px', top: '-15px' }}\r\n      />\r\n      <BaseAvatar \r\n        size={avatarSize}\r\n        className=\"relative z-10\"\r\n        isAnimating={true}\r\n        animationConfig={{\r\n          animate: { filter: ['drop-shadow(0 8px 16px rgba(255, 255, 255, 0.4)) brightness(1)', 'drop-shadow(0 12px 24px rgba(255, 255, 255, 0.6)) brightness(1.1)', 'drop-shadow(0 8px 16px rgba(255, 255, 255, 0.4)) brightness(1)'] },\r\n          transition: { duration: 3, repeat: Infinity, ease: \"easeInOut\" }\r\n        }}\r\n      />\r\n    </motion.div>\r\n  );\r\n};\r\n\r\n// Loading avatar variant\r\nexport const LoadingSaiAvatar: React.FC<{ size?: number }> = ({ size = 50 }) => {\r\n  const [isMobile, setIsMobile] = useState(false);\r\n  \r\n  useEffect(() => {\r\n    const checkMobile = () => setIsMobile(window.innerWidth < 768);\r\n    checkMobile();\r\n    window.addEventListener('resize', checkMobile);\r\n    return () => window.removeEventListener('resize', checkMobile);\r\n  }, []);\r\n  \r\n  const avatarSize = isMobile ? MOBILE_AVATAR_SIZE : size;\r\n  \r\n  return (\r\n    <motion.div\r\n      className=\"flex items-center justify-center relative\"\r\n      animate={{ rotate: [0, 360] }}\r\n      transition={{ rotate: { duration: 2, repeat: Infinity, ease: \"linear\" } }}\r\n    >\r\n      <motion.div\r\n        className=\"absolute inset-0 rounded-full bg-primary-500\"\r\n        animate={{ scale: [1, 1.3, 1], opacity: [0.3, 0.1, 0.3] }}\r\n        transition={{ duration: 2, repeat: Infinity, ease: \"easeInOut\" }}\r\n        style={{ width: `${avatarSize + 20}px`, height: `${avatarSize + 20}px`, left: '-10px', top: '-10px' }}\r\n      />\r\n      <BaseAvatar size={avatarSize} style={{ filter: 'drop-shadow(0 5px 15px rgba(255, 255, 255, 0.8))' }} />\r\n    </motion.div>\r\n  );\r\n};\r\n\r\n// Message avatar variant\r\nexport const MessageSaiAvatar: React.FC<{ size?: number; isStreaming?: boolean }> = ({ size = 36, isStreaming = false }) => {\r\n  const [isMobile, setIsMobile] = useState(false);\r\n  \r\n  useEffect(() => {\r\n    const checkMobile = () => setIsMobile(window.innerWidth < 768);\r\n    checkMobile();\r\n    window.addEventListener('resize', checkMobile);\r\n    return () => window.removeEventListener('resize', checkMobile);\r\n  }, []);\r\n  \r\n  const avatarSize = isMobile ? MOBILE_AVATAR_SIZE : size;\r\n  \r\n  return (\r\n    <motion.div\r\n      className=\"flex items-center justify-center relative\"\r\n      style={{ \r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center'\r\n      }}\r\n      whileHover={!isStreaming ? { scale: 1.1 } : {}}\r\n      transition={{ duration: 0.2 }}\r\n    >\r\n      <motion.div\r\n        animate={isStreaming ? { \r\n          rotate: 360\r\n        } : {}}\r\n        transition={isStreaming ? { \r\n          rotate: { \r\n            duration: 3, \r\n            repeat: Infinity, \r\n            ease: \"linear\" \r\n          }\r\n        } : {}}\r\n        style={{ \r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center'\r\n        }}\r\n      >\r\n        {isStreaming && (\r\n          <motion.div\r\n            className=\"absolute inset-0 bg-primary-500 rounded-full\"\r\n            animate={{ \r\n              scale: [1, 1.4, 1],\r\n              opacity: [0.3, 0.1, 0.3] \r\n            }}\r\n            transition={{ \r\n              duration: 2, \r\n              repeat: Infinity, \r\n              ease: \"easeInOut\" \r\n            }}\r\n            style={{ width: `${avatarSize}px`, height: `${avatarSize}px` }}\r\n          />\r\n        )}\r\n        \r\n        <WhiteBotIcon \r\n          size={avatarSize}\r\n          style={{ \r\n            filter: isStreaming \r\n              ? 'drop-shadow(0 0 15px rgba(255, 255, 255, 0.9))' \r\n              : 'drop-shadow(0 6px 12px rgba(0, 0, 0, 0.25))' \r\n          }}\r\n        />\r\n      </motion.div>\r\n    </motion.div>\r\n  );\r\n};"],"names":[],"mappings":"AAAA,oCAAoC;;;;;;;;;;;;AAGpC;AACA;AACA;AAAA;;;AAJA;;;;AAMA,MAAM,qBAAqB;AAC3B,MAAM,sBAAsB;AAE5B,qBAAqB;AACrB,MAAM,eAA6F;QAAC,EAClG,OAAO,EAAE,EACT,YAAY,EAAE,EACd,QAAQ,CAAC,CAAC,EACX;yBACC,6LAAC;QACC,WAAW,AAAC,oCAA6C,OAAV;QAC/C,OAAO;YACL,OAAO,AAAC,GAAO,OAAL,MAAK;YACf,QAAQ,AAAC,GAAO,OAAL,MAAK;YAChB,SAAS;YACT,YAAY;YACZ,gBAAgB;YAChB,GAAG,KAAK;QACV;kBAEA,cAAA,6LAAC;YACC,WAAU;YACV,OAAO;gBACL,OAAO,AAAC,GAAa,OAAX,OAAO,KAAI;gBACrB,QAAQ,AAAC,GAAa,OAAX,OAAO,KAAI;gBACtB,SAAS;gBACT,YAAY;gBACZ,gBAAgB;YAClB;sBAEA,cAAA,6LAAC,0MAAG;gBAAC,MAAM,OAAO;gBAAM,WAAU;gBAAa,aAAa;;;;;;;;;;;;;;;;;KA1B5D;AAgCC,MAAM,aAA8D;QAAC,EAAE,OAAO,EAAE,EAAE,YAAY,EAAE,EAAE;;IACvG,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IAEzC,IAAA,0KAAS;gCAAC;YACR,MAAM;oDAAc,IAAM,YAAY,OAAO,UAAU,GAAG;;YAC1D;YACA,OAAO,gBAAgB,CAAC,UAAU;YAClC;wCAAO,IAAM,OAAO,mBAAmB,CAAC,UAAU;;QACpD;+BAAG,EAAE;IAEL,MAAM,aAAa,WAAW,qBAAqB;IAEnD,qBACE,6LAAC,uMAAM,CAAC,GAAG;QACT,WAAW,AAAC,oCAA6C,OAAV;QAC/C,OAAO;YACL,OAAO,AAAC,GAAa,OAAX,YAAW;YACrB,QAAQ,AAAC,GAAa,OAAX,YAAW;YACtB,SAAS;YACT,YAAY;YACZ,gBAAgB;YAChB,QAAQ;QACV;QACA,YAAY;YAAE,OAAO;QAAI;QACzB,YAAY;YAAE,UAAU;QAAI;kBAE5B,cAAA,6LAAC;YACC,WAAU;YACV,OAAO;gBACL,OAAO,AAAC,GAAmB,OAAjB,aAAa,KAAI;gBAC3B,QAAQ,AAAC,GAAmB,OAAjB,aAAa,KAAI;gBAC5B,SAAS;gBACT,YAAY;gBACZ,gBAAgB;YAClB;sBAEA,cAAA,6LAAC,gOAAS;gBACR,MAAM,aAAa;gBACnB,WAAU;gBACV,aAAa;gBACb,OAAO;oBAAE,SAAS;gBAAQ;;;;;;;;;;;;;;;;AAKpC;GA7Ca;MAAA;AA+Cb,wBAAwB;AACxB,MAAM,aAMD;QAAC,EAAE,OAAO,EAAE,EAAE,cAAc,KAAK,EAAE,kBAAkB,CAAC,CAAC,EAAE,YAAY,EAAE,EAAE,QAAQ,CAAC,CAAC,EAAE;IACxF,OAAO,4BACL,6LAAC,uMAAM,CAAC,GAAG;QACT,WAAW;QACX,SAAS,gBAAgB,OAAO;QAChC,YAAY,gBAAgB,UAAU;QACtC,OAAO;YACL,SAAS;YACT,YAAY;YACZ,gBAAgB;YAChB,GAAG,KAAK;QACV;kBAEA,cAAA,6LAAC;YAAa,MAAM;;;;;;;;;;iEAGtB,6LAAC;QAAa,MAAM;QAAM,WAAW;QAAW,OAAO;;;;;;AAE3D;MAxBM;AA2BC,MAAM,YAA6D;QAAC,EAAE,OAAO,EAAE,EAAE,YAAY,EAAE,EAAE;;IACtG,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IAEzC,IAAA,0KAAS;+BAAC;YACR,MAAM;mDAAc,IAAM,YAAY,OAAO,UAAU,GAAG;;YAC1D;YACA,OAAO,gBAAgB,CAAC,UAAU;YAClC;uCAAO,IAAM,OAAO,mBAAmB,CAAC,UAAU;;QACpD;8BAAG,EAAE;IAEL,MAAM,aAAa,WAAW,qBAAqB;IAEnD,qBACE,6LAAC,uMAAM,CAAC,GAAG;QACT,WAAW,AAAC,6CAAsD,OAAV;QACxD,YAAY;YAAE,OAAO;QAAI;QACzB,YAAY;YAAE,UAAU;YAAK,MAAM;QAAY;;0BAE/C,6LAAC,uMAAM,CAAC,GAAG;gBACT,WAAU;gBACV,SAAS;oBACP,OAAO;wBAAC;wBAAG;wBAAK;wBAAK;wBAAK;qBAAE;oBAC5B,SAAS;wBAAC;wBAAK;wBAAK;wBAAM;wBAAK;qBAAI;oBACnC,QAAQ;wBAAC;wBAA2B;wBAA8B;wBAA8B;wBAA8B;qBAA0B;gBAC1J;gBACA,YAAY;oBAAE,UAAU;oBAAG,QAAQ;oBAAU,MAAM;oBAAa,YAAY;gBAAU;gBACtF,OAAO;oBAAE,OAAO,AAAC,GAAkB,OAAhB,aAAa,IAAG;oBAAK,QAAQ,AAAC,GAAkB,OAAhB,aAAa,IAAG;oBAAK,MAAM;oBAAS,KAAK;gBAAQ;;;;;;0BAEtG,6LAAC;gBACC,MAAM;gBACN,WAAU;gBACV,aAAa;gBACb,iBAAiB;oBACf,SAAS;wBAAE,QAAQ;4BAAC;4BAAkE;4BAAqE;yBAAiE;oBAAC;oBAC7N,YAAY;wBAAE,UAAU;wBAAG,QAAQ;wBAAU,MAAM;oBAAY;gBACjE;;;;;;;;;;;;AAIR;IAvCa;MAAA;AA0CN,MAAM,mBAAgD;QAAC,EAAE,OAAO,EAAE,EAAE;;IACzE,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IAEzC,IAAA,0KAAS;sCAAC;YACR,MAAM;0DAAc,IAAM,YAAY,OAAO,UAAU,GAAG;;YAC1D;YACA,OAAO,gBAAgB,CAAC,UAAU;YAClC;8CAAO,IAAM,OAAO,mBAAmB,CAAC,UAAU;;QACpD;qCAAG,EAAE;IAEL,MAAM,aAAa,WAAW,qBAAqB;IAEnD,qBACE,6LAAC,uMAAM,CAAC,GAAG;QACT,WAAU;QACV,SAAS;YAAE,QAAQ;gBAAC;gBAAG;aAAI;QAAC;QAC5B,YAAY;YAAE,QAAQ;gBAAE,UAAU;gBAAG,QAAQ;gBAAU,MAAM;YAAS;QAAE;;0BAExE,6LAAC,uMAAM,CAAC,GAAG;gBACT,WAAU;gBACV,SAAS;oBAAE,OAAO;wBAAC;wBAAG;wBAAK;qBAAE;oBAAE,SAAS;wBAAC;wBAAK;wBAAK;qBAAI;gBAAC;gBACxD,YAAY;oBAAE,UAAU;oBAAG,QAAQ;oBAAU,MAAM;gBAAY;gBAC/D,OAAO;oBAAE,OAAO,AAAC,GAAkB,OAAhB,aAAa,IAAG;oBAAK,QAAQ,AAAC,GAAkB,OAAhB,aAAa,IAAG;oBAAK,MAAM;oBAAS,KAAK;gBAAQ;;;;;;0BAEtG,6LAAC;gBAAW,MAAM;gBAAY,OAAO;oBAAE,QAAQ;gBAAmD;;;;;;;;;;;;AAGxG;IA3Ba;MAAA;AA8BN,MAAM,mBAAuE;QAAC,EAAE,OAAO,EAAE,EAAE,cAAc,KAAK,EAAE;;IACrH,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IAEzC,IAAA,0KAAS;sCAAC;YACR,MAAM;0DAAc,IAAM,YAAY,OAAO,UAAU,GAAG;;YAC1D;YACA,OAAO,gBAAgB,CAAC,UAAU;YAClC;8CAAO,IAAM,OAAO,mBAAmB,CAAC,UAAU;;QACpD;qCAAG,EAAE;IAEL,MAAM,aAAa,WAAW,qBAAqB;IAEnD,qBACE,6LAAC,uMAAM,CAAC,GAAG;QACT,WAAU;QACV,OAAO;YACL,SAAS;YACT,YAAY;YACZ,gBAAgB;QAClB;QACA,YAAY,CAAC,cAAc;YAAE,OAAO;QAAI,IAAI,CAAC;QAC7C,YAAY;YAAE,UAAU;QAAI;kBAE5B,cAAA,6LAAC,uMAAM,CAAC,GAAG;YACT,SAAS,cAAc;gBACrB,QAAQ;YACV,IAAI,CAAC;YACL,YAAY,cAAc;gBACxB,QAAQ;oBACN,UAAU;oBACV,QAAQ;oBACR,MAAM;gBACR;YACF,IAAI,CAAC;YACL,OAAO;gBACL,SAAS;gBACT,YAAY;gBACZ,gBAAgB;YAClB;;gBAEC,6BACC,6LAAC,uMAAM,CAAC,GAAG;oBACT,WAAU;oBACV,SAAS;wBACP,OAAO;4BAAC;4BAAG;4BAAK;yBAAE;wBAClB,SAAS;4BAAC;4BAAK;4BAAK;yBAAI;oBAC1B;oBACA,YAAY;wBACV,UAAU;wBACV,QAAQ;wBACR,MAAM;oBACR;oBACA,OAAO;wBAAE,OAAO,AAAC,GAAa,OAAX,YAAW;wBAAK,QAAQ,AAAC,GAAa,OAAX,YAAW;oBAAI;;;;;;8BAIjE,6LAAC;oBACC,MAAM;oBACN,OAAO;wBACL,QAAQ,cACJ,mDACA;oBACN;;;;;;;;;;;;;;;;;AAKV;IAnEa;MAAA","debugId":null}},
    {"offset": {"line": 469, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/garre/STRIVE/sai-engine/app/constants/chatConstants.ts"],"sourcesContent":["// app/constants/chatConstants.ts\r\n\r\nexport const URLS = {\r\n  CALENDLY: 'https://calendly.com/strivetech',\r\n  STRIVE_WEBSITE: 'https://strivetech.ai',\r\n  GROQ_CONSOLE: 'https://console.groq.com'\r\n};\r\n\r\n// Service cards for full mode\r\nexport const SERVICE_CARDS = [\r\n  {\r\n    icon: 'TrendingUp',\r\n    title: 'Predictive Analytics',\r\n    description: 'Transform your data into actionable insights that drive better business decisions.',\r\n    color: 'primary',\r\n    gradientFrom: 'from-primary-500',\r\n    gradientTo: 'to-primary-600'\r\n  },\r\n  {\r\n    icon: 'Eye',\r\n    title: 'Computer Vision',\r\n    description: 'Automate visual tasks with AI that sees and understands like humans do.',\r\n    color: 'blue',\r\n    gradientFrom: 'from-blue-500',\r\n    gradientTo: 'to-blue-600'\r\n  },\r\n  {\r\n    icon: 'MessageCircle',\r\n    title: 'Natural Language AI',\r\n    description: 'Understand and process human language to automate communication tasks.',\r\n    color: 'green',\r\n    gradientFrom: 'from-green-500',\r\n    gradientTo: 'to-green-600'\r\n  }\r\n];\r\n\r\n// Animation and UI constants\r\nexport const ANIMATIONS = {\r\n  GLOW_DURATION: 4,\r\n  ROTATE_DURATION: 2,\r\n  PULSE_DURATION: 2,\r\n  BOUNCE_DELAY: 0.2,\r\n  FADE_DURATION: 0.5,\r\n  HOVER_SCALE: 1.05,\r\n  TAP_SCALE: 0.95\r\n};\r\n\r\nexport const SIZES = {\r\n  AVATAR_LARGE: 80,\r\n  AVATAR_MEDIUM: 60,\r\n  AVATAR_SMALL: 36,\r\n  GLOW_OFFSET: 30,\r\n  ICON_SMALL: 12,\r\n  ICON_MEDIUM: 16,\r\n  ICON_LARGE: 20\r\n};\r\n\r\nexport const COLORS = {\r\n  PRIMARY_RGB: '245, 104, 52',\r\n  BLUE_RGB: '59, 130, 246',\r\n  GREEN_RGB: '16, 185, 129',\r\n  RED_RGB: '239, 68, 68',\r\n  PURPLE_RGB: '168, 85, 247'\r\n};"],"names":[],"mappings":"AAAA,iCAAiC;;;;;;;;;;;;;AAE1B,MAAM,OAAO;IAClB,UAAU;IACV,gBAAgB;IAChB,cAAc;AAChB;AAGO,MAAM,gBAAgB;IAC3B;QACE,MAAM;QACN,OAAO;QACP,aAAa;QACb,OAAO;QACP,cAAc;QACd,YAAY;IACd;IACA;QACE,MAAM;QACN,OAAO;QACP,aAAa;QACb,OAAO;QACP,cAAc;QACd,YAAY;IACd;IACA;QACE,MAAM;QACN,OAAO;QACP,aAAa;QACb,OAAO;QACP,cAAc;QACd,YAAY;IACd;CACD;AAGM,MAAM,aAAa;IACxB,eAAe;IACf,iBAAiB;IACjB,gBAAgB;IAChB,cAAc;IACd,eAAe;IACf,aAAa;IACb,WAAW;AACb;AAEO,MAAM,QAAQ;IACnB,cAAc;IACd,eAAe;IACf,cAAc;IACd,aAAa;IACb,YAAY;IACZ,aAAa;IACb,YAAY;AACd;AAEO,MAAM,SAAS;IACpB,aAAa;IACb,UAAU;IACV,WAAW;IACX,SAAS;IACT,YAAY;AACd","debugId":null}},
    {"offset": {"line": 545, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/garre/STRIVE/sai-engine/components/chat/ChatMessage.tsx"],"sourcesContent":["// app/components/Chat/ChatMessage.tsx\r\n'use client';\r\n\r\nimport React, { memo } from 'react';\r\nimport { User, AlertCircle, Clock, ExternalLink, Calendar } from 'lucide-react';\r\nimport { motion } from 'framer-motion';\r\nimport { MessageSaiAvatar, UserAvatar } from '../Shared/Avatars';\r\nimport { URLS } from '@/app/constants/chatConstants';\r\nimport { buttonAnimation } from '@/app/utils/animationUtils';\r\n\r\ninterface ChatMessageProps {\r\n  message: {\r\n    id: string;\r\n    role: 'user' | 'assistant' | 'system';\r\n    content: string;\r\n    timestamp: Date;\r\n    isStreaming?: boolean;\r\n    isThinking?: boolean;\r\n    isPartial?: boolean;\r\n    isError?: boolean;\r\n    isWelcome?: boolean;\r\n    showCalendlyButton?: boolean;\r\n  };\r\n  isStreaming?: boolean;\r\n  mode?: 'full' | 'widget';\r\n  isFirst?: boolean;\r\n}\r\n\r\nconst ChatMessage: React.FC<ChatMessageProps> = memo(({ message, isStreaming = false, mode = 'full', isFirst = false }) => {\r\n  const isUser = message.role === 'user';\r\n  const isError = message.isError;\r\n  const isPartial = message.isPartial;\r\n  const isWelcome = message.isWelcome;\r\n  const isThinking = message.isThinking;\r\n  \r\n  const actuallyStreaming = message.isStreaming !== undefined ? message.isStreaming : isStreaming;\r\n  \r\n  const handleScheduleClick = () => {\r\n    if (typeof window !== 'undefined') {\r\n      window.open(URLS.CALENDLY, '_blank');\r\n    }\r\n  };\r\n  \r\n  const getTimeBasedGreeting = () => {\r\n    const hour = new Date().getHours();\r\n    \r\n    if (hour >= 5 && hour < 12) {\r\n      return 'Good Morning';\r\n    } else if (hour >= 12 && hour < 17) {\r\n      return 'Good Afternoon';\r\n    } else if (hour >= 17 && hour < 21) {\r\n      return 'Good Evening';\r\n    } else {\r\n      return 'Good Evening';\r\n    }\r\n  };\r\n  \r\n  const formatContent = (content: string) => {\r\n    if (!content) return '';\r\n    \r\n    return content.split('\\n').map((line, index) => {\r\n      const trimmedLine = line.trim();\r\n      \r\n      if (!trimmedLine) {\r\n        return <div key={index} className=\"h-2\" />;\r\n      }\r\n      \r\n      // Bold text formatting\r\n      if (trimmedLine.includes('**')) {\r\n        const parts = trimmedLine.split(/(\\*\\*.*?\\*\\*)/g);\r\n        return (\r\n          <div key={index} className=\"mb-2\">\r\n            {parts.map((part, partIndex) => {\r\n              if (part.startsWith('**') && part.endsWith('**')) {\r\n                const boldText = part.slice(2, -2);\r\n                return (\r\n                  <span key={partIndex} className=\"font-bold text-gray-100\">\r\n                    {boldText}\r\n                  </span>\r\n                );\r\n              }\r\n              return <span key={partIndex}>{part}</span>;\r\n            })}\r\n          </div>\r\n        );\r\n      }\r\n      \r\n      // Bullet points\r\n      if (trimmedLine.startsWith('•') || trimmedLine.startsWith('-')) {\r\n        const bulletContent = trimmedLine.substring(1).trim();\r\n        return (\r\n          <motion.div \r\n            key={index} \r\n            className=\"flex items-start space-x-3 my-3\"\r\n            initial={{ opacity: 0, x: -10 }}\r\n            animate={{ opacity: 1, x: 0 }}\r\n            transition={{ delay: index * 0.05 }}\r\n          >\r\n            <div className=\"w-6 h-6 bg-gradient-to-r from-primary-500 to-primary-600 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5\">\r\n              <span className=\"text-white text-xs\">•</span>\r\n            </div>\r\n            <span className=\"flex-1 text-sm leading-relaxed font-medium\">{bulletContent}</span>\r\n          </motion.div>\r\n        );\r\n      }\r\n      \r\n      // URL formatting - handle Calendly links properly\r\n      if (trimmedLine.includes('calendly.com') || trimmedLine.includes('strivetech.ai') || trimmedLine.includes('http')) {\r\n        if (trimmedLine.includes('calendly.com')) {\r\n          const urlRegex = /(https?:\\/\\/)?calendly\\.com\\/[^\\s]+/g;\r\n          \r\n          return (\r\n            <div key={index} className=\"mb-2\">\r\n              {trimmedLine.split(urlRegex).map((part, partIndex) => {\r\n                if (part && part.includes('calendly.com')) {\r\n                  const fullUrl = part.startsWith('http') ? part : `https://${part}`;\r\n                  return (\r\n                    <motion.a\r\n                      key={partIndex}\r\n                      href={fullUrl}\r\n                      target=\"_blank\"\r\n                      rel=\"noopener noreferrer\"\r\n                      className=\"text-primary-400 hover:text-primary-300 font-semibold underline decoration-2 underline-offset-2 transition-all duration-200 mx-1\"\r\n                      whileHover={{ scale: 1.05 }}\r\n                      whileTap={{ scale: 0.95 }}\r\n                    >\r\n                      {part}\r\n                      <ExternalLink size={12} className=\"inline ml-1\" />\r\n                    </motion.a>\r\n                  );\r\n                }\r\n                return <span key={partIndex}>{part}</span>;\r\n              })}\r\n            </div>\r\n          );\r\n        }\r\n        \r\n        const urlRegex = /(https?:\\/\\/[^\\s]+|strivetech\\.ai|[\\w-]+\\.[\\w-]+(?:\\.[\\w-]+)*)/g;\r\n        const parts = trimmedLine.split(urlRegex);\r\n        \r\n        return (\r\n          <div key={index} className=\"mb-2\">\r\n            {parts.map((part, partIndex) => {\r\n              if (part && part.match(urlRegex) && !part.includes('calendly')) {\r\n                let url = part;\r\n                const isStrive = part.includes('strivetech.ai');\r\n                \r\n                if (!part.startsWith('http')) {\r\n                  url = `https://${part}`;\r\n                }\r\n                \r\n                return (\r\n                  <motion.a\r\n                    key={partIndex}\r\n                    href={url}\r\n                    target=\"_blank\"\r\n                    rel=\"noopener noreferrer\"\r\n                    className={`inline-flex items-center gap-1 font-semibold underline decoration-2 underline-offset-2 transition-all duration-200 mx-1 ${\r\n                      isStrive \r\n                        ? 'text-primary-400 hover:text-primary-300 hover:bg-primary-900/20 px-2 py-1 rounded-md' \r\n                        : 'text-blue-400 hover:text-blue-300'\r\n                    }`}\r\n                    whileHover={{ scale: 1.05 }}\r\n                    whileTap={{ scale: 0.95 }}\r\n                  >\r\n                    {part}\r\n                    <ExternalLink size={12} className=\"inline\" />\r\n                  </motion.a>\r\n                );\r\n              }\r\n              return <span key={partIndex}>{part}</span>;\r\n            })}\r\n          </div>\r\n        );\r\n      }\r\n      \r\n      return (\r\n        <div key={index} className=\"mb-2 leading-relaxed\">\r\n          {trimmedLine}\r\n        </div>\r\n      );\r\n    });\r\n  };\r\n  \r\n  return (\r\n    <motion.div\r\n      initial={{ opacity: 0, y: 30, scale: 0.95 }}\r\n      animate={{ opacity: 1, y: 0, scale: 1 }}\r\n      transition={{ \r\n        duration: 0.5, \r\n        ease: \"easeOut\",\r\n        type: \"spring\",\r\n        stiffness: 300,\r\n        damping: 25\r\n      }}\r\n      className={`flex items-start ${mode === 'widget' ? 'gap-2' : 'md:gap-3 gap-2'} mb-6 ${isUser ? 'flex-row-reverse' : ''}`}\r\n    >\r\n      {/* Avatar section */}\r\n      <motion.div \r\n        className={`flex-shrink-0 flex items-center justify-center relative ${\r\n          isUser \r\n            ? ''\r\n            : isError\r\n            ? 'w-16 h-16 rounded-full bg-gradient-to-br from-red-500 to-red-600 text-white ring-2 ring-red-200 shadow-lg'\r\n            : mode === 'widget' ? 'w-16 h-16' : 'w-24 h-24'\r\n        }`}\r\n        style={isUser ? { paddingTop: '4px' } : {}}\r\n        whileHover={isError ? { scale: 1.1 } : {}}\r\n        transition={{ duration: 0.2 }}\r\n      >\r\n        {isUser ? (\r\n          <UserAvatar size={mode === 'widget' ? 60 : 80} />\r\n        ) : isError ? (\r\n          <AlertCircle size={28} />\r\n        ) : (\r\n          <MessageSaiAvatar size={mode === 'widget' ? 60 : 80} isStreaming={actuallyStreaming || isThinking} />\r\n        )}\r\n      </motion.div>\r\n      \r\n      <div className={`flex flex-col ${isUser ? 'items-end' : 'items-start'} md:max-w-[85%] max-w-full`}>\r\n        {/* Message Bubble */}\r\n        {(!isThinking || message.content) && (\r\n          <motion.div \r\n            className={`message-bubble relative ${\r\n              isUser\r\n                ? 'user-message bg-gradient-to-br from-gray-100/10 via-primary-800/30 to-primary-700/40 border-2 border-primary-600 text-gray-100 shadow-xl md:max-w-[80%] max-w-full'\r\n                : isError\r\n                ? 'error-message bg-gradient-to-br from-red-900/20 to-red-800/20 border-2 border-red-600 text-red-300 md:max-w-[80%] max-w-full'\r\n                : 'bg-gradient-to-br from-blue-900/20 via-indigo-900/20 to-primary-900/20 border-2 border-primary-700 text-gray-200 shadow-xl md:max-w-[80%] max-w-full'\r\n            } ${actuallyStreaming ? 'animate-pulse border-primary-300' : ''} ${\r\n              isPartial ? 'border-orange-300 bg-orange-50' : ''\r\n            }`}\r\n            initial={{ scale: 0.8, opacity: 0, rotate: isUser ? 5 : -5 }}\r\n            animate={{ scale: 1, opacity: 1, rotate: 0 }}\r\n            transition={{ duration: 0.4, ease: \"easeOut\" }}\r\n            whileHover={{ scale: 1.02, y: -2 }}\r\n          >\r\n            <div className=\"text-sm leading-relaxed relative z-10\">\r\n              {formatContent(message.content)}\r\n              \r\n              {actuallyStreaming && message.content && (\r\n                <motion.span \r\n                  className=\"inline-block w-2 h-5 ml-0.5 bg-gradient-to-r from-primary-400 to-primary-500 rounded-sm\"\r\n                  animate={{ \r\n                    opacity: [1, 0.2, 1],\r\n                    scaleY: [1, 0.8, 1]\r\n                  }}\r\n                  transition={{ \r\n                    duration: 0.8, \r\n                    repeat: Infinity, \r\n                    ease: \"easeInOut\" \r\n                  }}\r\n                />\r\n              )}\r\n              \r\n              {isPartial && (\r\n                <div className=\"mt-3 p-2 bg-orange-900/20 rounded-md\">\r\n                  <div className=\"text-xs text-orange-300 font-medium flex items-center space-x-1\">\r\n                    <AlertCircle size={12} />\r\n                    <span>Response was interrupted</span>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </motion.div>\r\n        )}\r\n        \r\n        {/* Timestamp */}\r\n        <motion.div \r\n          className={`flex items-center space-x-2 text-xs text-gray-500 mt-2 ${isUser ? 'flex-row-reverse space-x-reverse' : ''}`}\r\n          initial={{ opacity: 0 }}\r\n          animate={{ opacity: 1 }}\r\n          transition={{ delay: 0.3 }}\r\n        >\r\n          <Clock size={12} />\r\n          <span>\r\n            {message.timestamp && new Date(message.timestamp).toLocaleTimeString([], {\r\n              hour: '2-digit',\r\n              minute: '2-digit'\r\n            })}\r\n          </span>\r\n          \r\n          {isError && <span className=\"text-red-300 font-medium\">Error</span>}\r\n          {isPartial && <span className=\"text-orange-300 font-medium\">Partial</span>}\r\n          {isWelcome && (\r\n            <>\r\n              <span>•</span>\r\n              <span className=\"text-primary-400 font-medium\">{getTimeBasedGreeting()}</span>\r\n            </>\r\n          )}\r\n          {actuallyStreaming && !isThinking && (\r\n            <motion.span \r\n              className=\"text-primary-400 font-medium flex items-center space-x-1\"\r\n              animate={{ opacity: [1, 0.6, 1] }}\r\n              transition={{ duration: 1.5, repeat: Infinity }}\r\n            >\r\n              <div className=\"w-2 h-2 bg-primary-500 rounded-full animate-pulse\" />\r\n              <span>Live</span>\r\n            </motion.span>\r\n          )}\r\n          {isThinking && (\r\n            <motion.span \r\n              className=\"text-primary-400 font-medium\"\r\n              animate={{ opacity: [1, 0.6, 1] }}\r\n              transition={{ duration: 1.5, repeat: Infinity }}\r\n            >\r\n              Thinking...\r\n            </motion.span>\r\n          )}\r\n        </motion.div>\r\n      </div>\r\n    </motion.div>\r\n  );\r\n});\r\n\r\nChatMessage.displayName = 'ChatMessage';\r\n\r\nexport default ChatMessage;"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1092, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/garre/STRIVE/sai-engine/components/chat/ChatInput.tsx"],"sourcesContent":["// app/components/Chat/ChatInput.tsx\r\n'use client';\r\n\r\nimport React, { useState, useRef, useEffect } from 'react';\r\nimport { Send, Loader2, Square, MessageSquare, Calendar, Sparkles, Zap, ArrowRight } from 'lucide-react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { useIdleDetection } from '@/app/hooks/useAdvancedChat';\r\n\r\ninterface ChatInputProps {\r\n  onSendMessage: (message: string) => void;\r\n  isLoading: boolean;\r\n  disabled: boolean;\r\n  onStop: () => void;\r\n  onClear?: () => void;\r\n  onScheduleClick: () => void;\r\n  mode?: 'full' | 'widget';\r\n  messageCount?: number;\r\n}\r\n\r\nconst ChatInput: React.FC<ChatInputProps> = ({ \r\n  onSendMessage, \r\n  isLoading, \r\n  disabled, \r\n  onStop, \r\n  onClear, \r\n  onScheduleClick, \r\n  mode = 'full', \r\n  messageCount = 0 \r\n}) => {\r\n  const [message, setMessage] = useState('');\r\n  const [isFocused, setIsFocused] = useState(false);\r\n  const [showQuestions, setShowQuestions] = useState(false);\r\n  const [currentCategory, setCurrentCategory] = useState(0);\r\n  const textareaRef = useRef<HTMLTextAreaElement>(null);\r\n  const isIdle = useIdleDetection(60000);\r\n\r\n  const handleSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (message.trim() && !disabled && !isLoading) {\r\n      onSendMessage(message);\r\n      setMessage('');\r\n      \r\n      if (typeof window !== 'undefined') {\r\n        const messageCountStorage = parseInt(localStorage.getItem('strive-message-count') || '0');\r\n        localStorage.setItem('strive-message-count', (messageCountStorage + 1).toString());\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleKeyPress = (e: React.KeyboardEvent) => {\r\n    if (e.key === 'Enter' && !e.shiftKey) {\r\n      e.preventDefault();\r\n      handleSubmit(e);\r\n    }\r\n    if ((e.metaKey || e.ctrlKey) && e.key === 'Enter') {\r\n      e.preventDefault();\r\n      handleSubmit(e);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const textarea = textareaRef.current;\r\n    if (textarea) {\r\n      textarea.style.height = 'auto';\r\n      const newHeight = Math.min(textarea.scrollHeight, 140);\r\n      textarea.style.height = `${newHeight}px`;\r\n    }\r\n  }, [message]);\r\n\r\n  useEffect(() => {\r\n    if (!isIdle) textareaRef.current?.focus();\r\n  }, [isIdle]);\r\n\r\n  useEffect(() => {\r\n    if (message.length > 0) {\r\n      setShowQuestions(false);\r\n    }\r\n  }, [message]);\r\n\r\n  const sampleQuestions = [\r\n    {\r\n      category: \"Getting Started\",\r\n      questions: [\r\n        \"Tell me about AI solutions for my industry\",\r\n        \"We're curious about AI but don't know where to begin\",\r\n        \"How do other companies like ours use AI?\"\r\n      ]\r\n    },\r\n    {\r\n      category: \"Common Challenges\",\r\n      questions: [\r\n        \"We're struggling with customer retention\",\r\n        \"Our support team is overwhelmed\",\r\n        \"How can we boost revenue?\"\r\n      ]\r\n    },\r\n    {\r\n      category: \"Cost & Implementation\",\r\n      questions: [\r\n        \"How long before we see ROI?\",\r\n        \"How long does implementation take?\",\r\n        \"Do we need technical staff?\"\r\n      ]\r\n    }\r\n  ];\r\n\r\n  const currentQuestions = sampleQuestions[currentCategory].questions;\r\n\r\n  const handleSampleQuestion = (question: string) => {\r\n    setMessage(question);\r\n    setShowQuestions(false);\r\n    textareaRef.current?.focus();\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-gray-800 border-t border-gray-600 relative\">\r\n      {/* Idle user prompt */}\r\n      <AnimatePresence>\r\n        {isIdle && message.length > 1 && (\r\n          <motion.div\r\n            initial={{ opacity: 0, y: -10 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            exit={{ opacity: 0, y: -10 }}\r\n            className=\"absolute -top-40 left-6 right-6 z-20\"\r\n          >\r\n            <div className=\"bg-gray-700 border border-gray-600 text-gray-300 rounded-lg p-3 text-sm\">\r\n              Still there? I'm here whenever you're ready to continue exploring AI solutions!\r\n            </div>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n      \r\n      {/* CTA Box + Sample questions - hidden in widget mode */}\r\n      <AnimatePresence>\r\n        {!message && !isLoading && mode !== 'widget' && (\r\n          <motion.div\r\n            initial={{ opacity: 0, height: 0 }}\r\n            animate={{ opacity: 1, height: \"auto\" }}\r\n            exit={{ opacity: 0, height: 0 }}\r\n            transition={{ duration: 0.3 }}\r\n            className=\"bg-gray-800\"\r\n          >\r\n            {/* \"Ready to discuss your AI strategy?\" CTA */}\r\n            {messageCount > 1 && (\r\n              <motion.div\r\n                initial={{ opacity: 0, y: 20 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                transition={{ duration: 0.3 }}\r\n                className=\"px-4 pt-4 pb-2\"\r\n              >\r\n                <div className=\"p-4 bg-gray-800 border border-gray-600 rounded-xl glow-orange-subtle\">\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <div className=\"flex items-center space-x-3 group hidden md:flex\">\r\n                      <motion.div \r\n                        className=\"w-12 h-12 rounded-full flex items-center justify-center bg-gradient-to-br from-primary-600 to-primary-700\"\r\n                        whileHover={{ rotate: 360 }}\r\n                        transition={{ duration: 0.5, ease: \"linear\" }}\r\n                      >\r\n                        <Calendar size={20} className=\"text-white\" />\r\n                      </motion.div>\r\n                      <div>\r\n                        <h4 className=\"font-semibold text-base text-gray-200\">Ready to discuss your AI strategy?</h4>\r\n                        <p className=\"text-sm text-gray-400\">Let's explore how STRIVE can solve your specific challenges</p>\r\n                      </div>\r\n                    </div>\r\n                    <motion.button\r\n                      onClick={onScheduleClick}\r\n                      className=\"brand-orange-button px-8 py-3 text-white rounded-xl font-semibold flex items-center space-x-2 text-sm w-full md:w-auto justify-center\"\r\n                      whileHover={{ scale: 1.02 }}\r\n                      whileTap={{ scale: 0.98 }}\r\n                      transition={{ duration: 0.15 }}\r\n                    >\r\n                      <Calendar size={16} />\r\n                      <span>Schedule Free Assessment</span>\r\n                      <ArrowRight size={16} />\r\n                    </motion.button>\r\n                  </div>\r\n                </div>\r\n              </motion.div>\r\n            )}\r\n\r\n            {/* Categories and Questions Section */}\r\n            <div className=\"px-4 py-4 border-b border-gray-700\">\r\n              {/* Category tabs */}\r\n              <div className=\"flex items-center justify-between mb-0\">\r\n                <div className=\"flex items-center space-x-2\">\r\n                  {sampleQuestions.map((category, index) => (\r\n                    <motion.button\r\n                      key={index}\r\n                      onClick={() => {\r\n                        if (currentCategory === index && showQuestions) {\r\n                          setShowQuestions(false);\r\n                        } else {\r\n                          setCurrentCategory(index);\r\n                          setShowQuestions(true);\r\n                        }\r\n                      }}\r\n                      className={`text-xs px-3 py-1.5 rounded-full transition-all duration-300 font-medium flex items-center space-x-1 ${\r\n                        currentCategory === index && showQuestions\r\n                          ? 'bg-primary-600 text-white'\r\n                          : 'bg-gray-700 hover:bg-gray-600 text-gray-300'\r\n                      }`}\r\n                      whileHover={{ scale: 1.02 }}\r\n                      whileTap={{ scale: 0.98 }}\r\n                    >\r\n                      {index === 0 && <Sparkles size={12} />}\r\n                      {index === 1 && <MessageSquare size={12} />}\r\n                      {index === 2 && <Zap size={12} />}\r\n                      <span>{category.category}</span>\r\n                    </motion.button>\r\n                  ))}\r\n                </div>\r\n                \r\n                <motion.button\r\n                  onClick={onScheduleClick}\r\n                  className=\"text-xs px-3 py-1.5 bg-gradient-to-r from-primary-600 to-primary-700 hover:from-primary-500 hover:to-primary-600 text-white rounded-full transition-all duration-300 font-medium flex items-center space-x-1 hidden md:flex\"\r\n                  whileHover={{ scale: 1.02 }}\r\n                  whileTap={{ scale: 0.98 }}\r\n                >\r\n                  <Calendar size={12} />\r\n                  <span>Book Call</span>\r\n                </motion.button>\r\n              </div>\r\n              \r\n              {/* Questions for selected category */}\r\n              <AnimatePresence>\r\n                {showQuestions && (\r\n                  <motion.div\r\n                    initial={{ opacity: 0, height: 0 }}\r\n                    animate={{ opacity: 1, height: \"auto\" }}\r\n                    exit={{ opacity: 0, height: 0 }}\r\n                    transition={{ duration: 0.3 }}\r\n                    className=\"space-y-2 mt-4\"\r\n                  >\r\n                    {currentQuestions.map((question, index) => (\r\n                      <motion.button\r\n                        key={`${currentCategory}-${index}`}\r\n                        onClick={() => handleSampleQuestion(question)}\r\n                        className=\"w-full text-left text-sm px-4 py-3 bg-gray-700 hover:bg-gray-600 border border-gray-600 hover:border-primary-600 text-gray-300 hover:text-primary-400 rounded-xl transition-all duration-300 group\"\r\n                        initial={{ opacity: 0, y: 10 }}\r\n                        animate={{ opacity: 1, y: 0 }}\r\n                        transition={{ delay: index * 0.05 }}\r\n                        whileHover={{ scale: 1.01 }}\r\n                        whileTap={{ scale: 0.99 }}\r\n                      >\r\n                        <div className=\"flex items-start space-x-3\">\r\n                          <MessageSquare size={16} className=\"text-primary-400 mt-0.5 flex-shrink-0\" />\r\n                          <span className=\"leading-relaxed font-medium\">{question}</span>\r\n                        </div>\r\n                      </motion.button>\r\n                    ))}\r\n                  </motion.div>\r\n                )}\r\n              </AnimatePresence>\r\n            </div>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n\r\n      {/* Main input area */}\r\n      <form onSubmit={handleSubmit} className=\"flex items-center space-x-2 p-3\">\r\n        <div className={`flex-1 relative ${isFocused ? 'ring-2 ring-primary-600 ring-opacity-50 rounded-xl' : ''}`}>\r\n          <textarea\r\n            ref={textareaRef}\r\n            value={message}\r\n            onChange={(e) => setMessage(e.target.value)}\r\n            onKeyDown={handleKeyPress}\r\n            onFocus={() => setIsFocused(true)}\r\n            onBlur={() => setIsFocused(false)}\r\n            placeholder={typeof window !== 'undefined' && window.innerWidth < 768 ? \"Your business challenge...\" : \"Tell me about your business challenge...\"}\r\n            className=\"chat-input w-full align-bottom\"\r\n            style={{ \r\n              minHeight: '52px', \r\n              maxHeight: '140px',\r\n              lineHeight: '1.5',\r\n              whiteSpace: 'pre-wrap',\r\n              wordBreak: 'break-word',\r\n              overflowWrap: 'break-word',\r\n            }}\r\n            disabled={disabled}\r\n            rows={1}\r\n          />\r\n          \r\n          {message.length > 200 && (\r\n            <div className=\"absolute bottom-2 right-2 text-xs text-gray-500 bg-gray-700 px-1 rounded\">\r\n              {message.length}/2000\r\n            </div>\r\n          )}\r\n        </div>\r\n        \r\n        <div className=\"flex items-center space-x-2\">\r\n          {/* Stop button */}\r\n          <AnimatePresence>\r\n            {isLoading && (\r\n              <motion.button\r\n                type=\"button\"\r\n                onClick={onStop}\r\n                className=\"p-3 bg-red-600 hover:bg-red-700 text-white rounded-xl transition-all duration-300 glow-orange-subtle\"\r\n                whileHover={{ scale: 1.02 }}\r\n                whileTap={{ scale: 0.98 }}\r\n                initial={{ opacity: 0, scale: 0.8 }}\r\n                animate={{ opacity: 1, scale: 1 }}\r\n                exit={{ opacity: 0, scale: 0.8 }}\r\n              >\r\n                <Square size={18} />\r\n              </motion.button>\r\n            )}\r\n          </AnimatePresence>\r\n\r\n          {/* Send button */}\r\n          <motion.button\r\n            type=\"submit\"\r\n            disabled={!message.trim() || disabled || isLoading}\r\n            className=\"send-button\"\r\n            whileHover={!disabled && message.trim() ? { scale: 1.02 } : {}}\r\n            whileTap={!disabled && message.trim() ? { scale: 0.98 } : {}}\r\n            transition={{ duration: 0.3 }}\r\n          >\r\n            <AnimatePresence mode=\"wait\">\r\n              {isLoading ? (\r\n                <motion.div key=\"loading\" initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }}>\r\n                  <Loader2 size={20} className=\"animate-spin\" />\r\n                </motion.div>\r\n              ) : (\r\n                <motion.div key=\"send\" initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }}>\r\n                  <Send size={20} />\r\n                </motion.div>\r\n              )}\r\n            </AnimatePresence>\r\n          </motion.button>\r\n        </div>\r\n      </form>\r\n      \r\n      {/* Status bar */}\r\n      <div className=\"px-4 py-2 bg-gray-800 border-t border-gray-700\">\r\n        <div className=\"flex items-center justify-between text-xs text-gray-400\">\r\n          <div className=\"flex items-center space-x-4\">\r\n            <div className=\"flex items-center space-x-1 text-green-400\">\r\n              <div className=\"w-2 h-2 bg-green-500 rounded-full\" />\r\n              <span>Sai ready</span>\r\n            </div>\r\n            \r\n            <motion.button\r\n              onClick={onScheduleClick}\r\n              className=\"text-primary-400 hover:text-primary-300 font-medium transition-all duration-300 flex items-center space-x-1\"\r\n              whileHover={{ scale: 1.02 }}\r\n            >\r\n              <Calendar size={12} />\r\n              <span>Free assessment available</span>\r\n            </motion.button>\r\n          </div>\r\n          \r\n          <div className=\"flex items-center space-x-3\">\r\n            <span className=\"hidden sm:inline\">STRIVE TECH LLC</span>\r\n            {onClear && (\r\n              <button onClick={onClear} className=\"hover:text-gray-200 transition-all duration-300\">\r\n                New chat\r\n              </button>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChatInput;"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1888, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/garre/STRIVE/sai-engine/app/utils/parentCommunication.ts"],"sourcesContent":["// app/utils/parentCommunication.ts\r\n'use client';\r\n\r\nclass ParentCommunication {\r\n  private debugMode: boolean;\r\n  private allowedOrigins: string[];\r\n  private parentOrigin: string;\r\n  private messageQueue: any[];\r\n  private isReady: boolean;\r\n\r\n  constructor() {\r\n    // Check for debug mode\r\n    if (typeof window !== 'undefined') {\r\n      const urlParams = new URLSearchParams(window.location.search);\r\n      this.debugMode = urlParams.get('debug') === 'true' || process.env.NODE_ENV === 'development';\r\n    } else {\r\n      this.debugMode = false;\r\n    }\r\n\r\n    // Allow both production and development origins\r\n    this.allowedOrigins = [\r\n      'https://strivetech.ai',\r\n      'https://www.strivetech.ai',\r\n      'https://strive-website-8xot95578-strive-tech.vercel.app',\r\n      'http://localhost:5000',\r\n      'http://localhost:3000',\r\n      'http://localhost:5173',\r\n      'http://127.0.0.1:5000',\r\n      'http://127.0.0.1:3000',\r\n      'http://127.0.0.1:5173'\r\n    ];\r\n\r\n    this.parentOrigin = this.detectParentOrigin();\r\n    this.messageQueue = [];\r\n    this.isReady = false;\r\n\r\n    if (typeof window !== 'undefined') {\r\n      this.setupEventListeners();\r\n      this.setupResizeObserver();\r\n\r\n      // Send ready message immediately when DOM is loaded\r\n      if (document.readyState === 'loading') {\r\n        document.addEventListener('DOMContentLoaded', () => {\r\n          this.debugLog('🚀 DOM loaded - sending immediate ready message', true);\r\n          this.sendReadyMessage();\r\n        });\r\n      } else {\r\n        this.debugLog('🚀 DOM already loaded - sending immediate ready message', true);\r\n        setTimeout(() => this.sendReadyMessage(), 100);\r\n      }\r\n    }\r\n\r\n    this.debugLog('🔧 ParentCommunication initialized');\r\n    this.debugLog(`🐛 Debug mode: ${this.debugMode ? 'ENABLED' : 'disabled'}`);\r\n    this.debugLog(`🌐 Parent origin: ${this.parentOrigin}`);\r\n    this.debugLog(`🖼️ In iframe: ${typeof window !== 'undefined' && window.parent !== window}`);\r\n  }\r\n\r\n  debugLog(message: string, force: boolean = false) {\r\n    if (this.debugMode || force) {\r\n      console.log(`[ParentComm] ${message}`);\r\n    }\r\n  }\r\n\r\n  detectParentOrigin(): string {\r\n    if (typeof window === 'undefined') return 'https://strivetech.ai';\r\n\r\n    // Try to get parent origin from URL parameter\r\n    const urlParams = new URLSearchParams(window.location.search);\r\n    const parentParam = urlParams.get('parent');\r\n    if (parentParam) {\r\n      this.debugLog(`🎯 Parent origin from URL: ${parentParam}`);\r\n      return parentParam;\r\n    }\r\n\r\n    // Try to detect from document referrer\r\n    if (document.referrer) {\r\n      try {\r\n        const referrerUrl = new URL(document.referrer);\r\n        this.debugLog(`🎯 Parent origin from referrer: ${referrerUrl.origin}`);\r\n        return referrerUrl.origin;\r\n      } catch (e) {\r\n        this.debugLog(`⚠️ Could not parse referrer: ${e}`);\r\n      }\r\n    }\r\n\r\n    this.debugLog('🎯 Using default parent origin: https://strivetech.ai');\r\n    return 'https://strivetech.ai';\r\n  }\r\n\r\n  setupEventListeners() {\r\n    if (typeof window === 'undefined') return;\r\n\r\n    // Listen for messages from parent\r\n    window.addEventListener('message', this.handleParentMessage.bind(this));\r\n\r\n    // Notify parent when closing\r\n    window.addEventListener('beforeunload', () => {\r\n      this.sendToParent('close');\r\n    });\r\n\r\n    // Handle visibility changes\r\n    document.addEventListener('visibilitychange', () => {\r\n      this.sendToParent('visibility', {\r\n        visible: document.visibilityState === 'visible'\r\n      });\r\n    });\r\n  }\r\n\r\n  setupResizeObserver() {\r\n    if (typeof window === 'undefined' || !window.ResizeObserver) return;\r\n\r\n    const resizeObserver = new ResizeObserver(() => {\r\n      this.notifyResize();\r\n    });\r\n\r\n    // Observe body for size changes\r\n    resizeObserver.observe(document.body);\r\n\r\n    // Also observe the chat container if it exists\r\n    const chatContainer = document.querySelector('.chat-container');\r\n    if (chatContainer) {\r\n      resizeObserver.observe(chatContainer);\r\n    }\r\n  }\r\n\r\n  handleParentMessage(event: MessageEvent) {\r\n    // Security: validate origin\r\n    if (!this.allowedOrigins.includes(event.origin)) {\r\n      console.warn('Ignored message from untrusted origin:', event.origin);\r\n      return;\r\n    }\r\n\r\n    const { type, data, source } = event.data || {};\r\n\r\n    // Only handle messages from website\r\n    if (source && source !== 'strivetech-website') {\r\n      console.warn('Ignored message from unknown source:', source);\r\n      return;\r\n    }\r\n\r\n    switch(type) {\r\n      case 'visibility':\r\n        this.handleVisibilityChange(data?.visible);\r\n        break;\r\n      case 'mode':\r\n        this.handleModeChange(data?.mode);\r\n        break;\r\n      case 'container_resize':\r\n        this.handleContainerResize(data?.width, data?.height);\r\n        break;\r\n      case 'ping':\r\n        this.sendToParent('pong', { timestamp: Date.now() });\r\n        break;\r\n      default:\r\n        console.log('Unknown message type:', type);\r\n    }\r\n  }\r\n\r\n  handleVisibilityChange(isVisible: boolean) {\r\n    if (typeof window === 'undefined') return;\r\n    \r\n    const event = new CustomEvent('chatbot:visibility', {\r\n      detail: { visible: isVisible }\r\n    });\r\n    window.dispatchEvent(event);\r\n  }\r\n\r\n  handleModeChange(mode: string) {\r\n    if (typeof window === 'undefined') return;\r\n    \r\n    const event = new CustomEvent('chatbot:mode', {\r\n      detail: { mode }\r\n    });\r\n    window.dispatchEvent(event);\r\n  }\r\n\r\n  handleContainerResize(width: number, height: number) {\r\n    if (typeof window === 'undefined') return;\r\n    \r\n    const event = new CustomEvent('chatbot:resize', {\r\n      detail: { width, height }\r\n    });\r\n    window.dispatchEvent(event);\r\n  }\r\n\r\n  sendReadyMessage() {\r\n    this.debugLog('📤 Sending immediate ready message', true);\r\n    this.sendToParent('ready', {\r\n      version: '1.0.0',\r\n      mode: this.detectMode(),\r\n      capabilities: ['chat', 'streaming', 'analytics'],\r\n      timestamp: Date.now()\r\n    });\r\n  }\r\n\r\n  initializeWhenReady() {\r\n    this.debugLog('🔧 initializeWhenReady called', true);\r\n    this.debugLog(`🖼️ iframe check: ${typeof window !== 'undefined' && window.parent !== window}`, true);\r\n    this.debugLog(`📍 current URL: ${typeof window !== 'undefined' ? window.location.href : 'N/A'}`, true);\r\n    this.debugLog(`📊 ready status: ${this.isReady}`, true);\r\n\r\n    if (!this.isReady) {\r\n      this.debugLog('🚀 Sending initial ready message...', true);\r\n      this.notifyReady();\r\n    } else {\r\n      this.debugLog('⚠️ Already ready, sending ready message again for reliability...', true);\r\n      this.sendToParent('ready', {\r\n        version: '1.0.0',\r\n        mode: this.detectMode(),\r\n        capabilities: ['chat', 'streaming', 'analytics'],\r\n        timestamp: Date.now()\r\n      });\r\n    }\r\n  }\r\n\r\n  notifyReady() {\r\n    this.isReady = true;\r\n    this.debugLog('📤 Sending ready message to parent...', true);\r\n    this.sendToParent('ready', {\r\n      version: '1.0.0',\r\n      mode: this.detectMode(),\r\n      capabilities: ['chat', 'streaming', 'analytics'],\r\n      timestamp: Date.now()\r\n    });\r\n\r\n    this.flushMessageQueue();\r\n  }\r\n\r\n  notifyResize() {\r\n    if (typeof window === 'undefined' || typeof document === 'undefined') return;\r\n\r\n    const height = Math.max(\r\n      document.body.scrollHeight,\r\n      document.body.offsetHeight,\r\n      document.documentElement.clientHeight,\r\n      document.documentElement.scrollHeight,\r\n      document.documentElement.offsetHeight\r\n    );\r\n\r\n    const width = Math.max(\r\n      document.body.scrollWidth,\r\n      document.body.offsetWidth,\r\n      document.documentElement.clientWidth,\r\n      document.documentElement.scrollWidth,\r\n      document.documentElement.offsetWidth\r\n    );\r\n\r\n    this.sendToParent('resize', { height, width });\r\n  }\r\n\r\n  notifyError(error: Error, code: string = 'UNKNOWN_ERROR', recoverable: boolean = true) {\r\n    this.sendToParent('error', {\r\n      error: error.message || 'Unknown error',\r\n      code,\r\n      recoverable,\r\n      stack: error.stack,\r\n      timestamp: Date.now()\r\n    });\r\n  }\r\n\r\n  notifyMinimize() {\r\n    this.sendToParent('minimize', {});\r\n  }\r\n\r\n  notifyClose() {\r\n    this.sendToParent('close', {});\r\n  }\r\n\r\n  notifyNavigate(url: string, target: string = '_self') {\r\n    this.sendToParent('navigate', {\r\n      url,\r\n      target\r\n    });\r\n  }\r\n\r\n  notifyAnalytics(event: string, properties: Record<string, any> = {}) {\r\n    this.sendToParent('analytics', {\r\n      event,\r\n      properties,\r\n      timestamp: Date.now()\r\n    });\r\n  }\r\n\r\n  detectMode(): string {\r\n    if (typeof window === 'undefined') return 'full';\r\n    \r\n    const path = window.location.pathname;\r\n    if (path.includes('/widget')) return 'widget';\r\n    if (path.includes('/full')) return 'full';\r\n    return 'full';\r\n  }\r\n\r\n  sendToParent(type: string, data: any = {}) {\r\n    if (typeof window === 'undefined') return;\r\n\r\n    const message = {\r\n      type,\r\n      data,\r\n      timestamp: Date.now(),\r\n      source: 'sai-chatbot'\r\n    };\r\n\r\n    // Queue messages if not ready yet\r\n    if (!this.isReady && type !== 'ready') {\r\n      this.messageQueue.push(message);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      // Send to all known origins for maximum compatibility\r\n      window.parent.postMessage(message, '*');\r\n      window.parent.postMessage(message, 'https://strive-website-8xot95578-strive-tech.vercel.app');\r\n\r\n      this.debugLog(`✅ PostMessage sent: ${JSON.stringify(message)}`, true);\r\n    } catch (error) {\r\n      this.debugLog(`❌ PostMessage failed: ${error}`, true);\r\n    }\r\n  }\r\n\r\n  flushMessageQueue() {\r\n    if (typeof window === 'undefined') return;\r\n\r\n    while (this.messageQueue.length > 0) {\r\n      const message = this.messageQueue.shift();\r\n      window.parent.postMessage(message, '*');\r\n      window.parent.postMessage(message, 'https://strive-website-8xot95578-strive-tech.vercel.app');\r\n    }\r\n  }\r\n}\r\n\r\n// Create and export singleton instance\r\nconst parentComm = new ParentCommunication();\r\n\r\n// Expose for debugging in development\r\nif (typeof window !== 'undefined' && process.env.NODE_ENV === 'development') {\r\n  (window as any).parentComm = parentComm;\r\n}\r\n\r\nexport default parentComm;"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2210, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/garre/STRIVE/sai-engine/components/chat/ChatContainer.tsx"],"sourcesContent":["// app/components/Chat/ChatContainer.tsx\r\n'use client';\r\n\r\nimport React, { useEffect, useState, memo, useCallback } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport {\r\n  MessageSquare, RotateCcw, Minimize2, Maximize2, ExternalLink,\r\n  TrendingUp, Eye, MessageCircle, Calendar, Sparkles, Zap,\r\n  ArrowRight, Download, Mail, FileText, Command, ChevronDown\r\n} from 'lucide-react';\r\nimport ChatMessage from './ChatMessage';\r\nimport ChatInput from './ChatInput';\r\nimport { useChat } from '@/app/hooks/useChat';\r\nimport { URLS, SERVICE_CARDS } from '@/app/constants/chatConstants';\r\nimport { useTimeBasedGreeting, useKeyboardShortcuts } from '@/app/hooks/useAdvancedChat';\r\nimport useScrollManager from '@/app/hooks/useScrollManager';\r\nimport parentComm from '@/app/utils/parentCommunication';\r\n\r\n// Quick action suggestions component\r\nconst QuickActions = memo(({ messageCount, onAction }: { messageCount: number; onAction: (action: string) => void }) => {\r\n  const suggestions = messageCount === 0 ? [\r\n    { icon: Zap, text: \"Quick Demo\", action: \"show_demo\" },\r\n    { icon: TrendingUp, text: \"ROI Calculator\", action: \"roi_calc\" },\r\n    { icon: FileText, text: \"Case Studies\", action: \"case_studies\" }\r\n  ] : [];\r\n\r\n  if (!suggestions.length) return null;\r\n\r\n  return (\r\n    <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} className=\"flex gap-2 mb-4\">\r\n      {suggestions.map((s, i) => (\r\n        <motion.button\r\n          key={s.action}\r\n          initial={{ opacity: 0, scale: 0.8 }}\r\n          animate={{ opacity: 1, scale: 1 }}\r\n          transition={{ delay: i * 0.1 }}\r\n          onClick={() => onAction(s.action)}\r\n          className=\"flex items-center gap-2 px-3 py-1.5 rounded-lg text-xs font-medium bg-gray-700 text-gray-300 hover:bg-gray-600 transition-all duration-300\"\r\n          whileHover={{ scale: 1.05 }}\r\n          whileTap={{ scale: 0.95 }}\r\n        >\r\n          <s.icon size={14} />\r\n          <span>{s.text}</span>\r\n        </motion.button>\r\n      ))}\r\n    </motion.div>\r\n  );\r\n});\r\n\r\nQuickActions.displayName = 'QuickActions';\r\n\r\n// Service showcase card component\r\nconst ServiceCard = memo(({ service, sendMessage }: { service: any; sendMessage: (msg: string) => void }) => {\r\n  const iconMap: Record<string, any> = { TrendingUp, Eye, MessageCircle };\r\n  const Icon = iconMap[service.icon];\r\n  \r\n  if (!Icon) return null;\r\n\r\n  const handleCardClick = () => {\r\n    const serviceMessages: Record<string, string> = {\r\n      'TrendingUp': \"I'm interested in learning about Predictive Analytics. Can you explain what it does and how businesses use it? Then I'd like to explore solutions specific to my industry.\",\r\n      'Eye': \"I'm interested in learning about Computer Vision. Can you explain what it does and how businesses use it? Then I'd like to explore solutions specific to my industry.\",\r\n      'MessageCircle': \"I'm interested in learning about Natural Language AI. Can you explain what it does and how businesses use it? Then I'd like to explore solutions specific to my industry.\"\r\n    };\r\n\r\n    const messageToSend = serviceMessages[service.icon];\r\n    if (messageToSend && sendMessage) {\r\n      sendMessage(messageToSend);\r\n    }\r\n  };\r\n  \r\n  return (\r\n    <motion.div \r\n      className=\"bg-gray-700 rounded-xl px-4 py-3 border border-gray-600 transition-all duration-300 cursor-pointer hover:bg-gray-600 flex items-center space-x-3\"\r\n      onClick={handleCardClick}\r\n      whileHover={{ scale: 1.02 }}\r\n      whileTap={{ scale: 0.95 }}\r\n    >\r\n      <motion.div\r\n        className={`w-10 h-10 bg-gradient-to-br ${service.gradientFrom} ${service.gradientTo} rounded-lg flex items-center justify-center flex-shrink-0`}\r\n        whileHover={{ rotate: 10 }}\r\n        transition={{ duration: 0.15 }}\r\n      >\r\n        <Icon size={20} className=\"text-white\" />\r\n      </motion.div>\r\n      <div>\r\n        <h3 className=\"font-semibold text-sm text-gray-200\">{service.title}</h3>\r\n        <div className=\"text-xs text-primary-500 font-medium\">Learn More →</div>\r\n      </div>\r\n    </motion.div>\r\n  );\r\n});\r\n\r\nServiceCard.displayName = 'ServiceCard';\r\n\r\ninterface ChatContainerProps {\r\n  mode?: 'full' | 'widget';\r\n}\r\n\r\nconst ChatContainer: React.FC<ChatContainerProps> = ({ mode = 'full' }) => {\r\n  const {\r\n    messages, isLoading, streamingMessage, error,\r\n    sendMessage, clearMessages, stopGeneration, retryLastMessage, getStats\r\n  } = useChat();\r\n\r\n  const {\r\n    scrollContainerRef,\r\n    messagesEndRef,\r\n    showScrollButton,\r\n    handleScrollToBottom\r\n  } = useScrollManager(messages, streamingMessage);\r\n\r\n  const [isMinimized, setIsMinimized] = useState(false);\r\n  const [showStats, setShowStats] = useState(false);\r\n  const [showKeyboardShortcuts, setShowKeyboardShortcuts] = useState(false);\r\n  \r\n  useTimeBasedGreeting();\r\n  \r\n  useEffect(() => {\r\n    if (typeof window !== 'undefined') {\r\n      parentComm.notifyAnalytics('chat_opened', { mode });\r\n    }\r\n  }, [mode]);\r\n\r\n  useKeyboardShortcuts({\r\n    onSearch: () => console.log('Search triggered'),\r\n    onShowShortcuts: () => setShowKeyboardShortcuts(!showKeyboardShortcuts),\r\n    onClear: clearMessages\r\n  });\r\n\r\n  const handleScheduleClick = useCallback(() => {\r\n    if (typeof window !== 'undefined') {\r\n      if (window.parent && window.parent !== window) {\r\n        parentComm.notifyNavigate(URLS.CALENDLY, '_blank');\r\n      } else {\r\n        window.open(URLS.CALENDLY, '_blank');\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  const handleWebsiteClick = useCallback(() => {\r\n    if (typeof window !== 'undefined') {\r\n      if (window.parent && window.parent !== window) {\r\n        parentComm.notifyNavigate(URLS.STRIVE_WEBSITE, '_blank');\r\n      } else {\r\n        window.open(URLS.STRIVE_WEBSITE, '_blank');\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  const handleSendMessage = useCallback((message: string) => {\r\n    if (typeof window !== 'undefined') {\r\n      parentComm.notifyAnalytics('message_sent', {\r\n        messageLength: message.length,\r\n        mode\r\n      });\r\n    }\r\n    sendMessage(message);\r\n  }, [sendMessage, mode]);\r\n\r\n  const handleQuickAction = useCallback((action: string) => {\r\n    switch(action) {\r\n      case 'schedule':\r\n        handleScheduleClick();\r\n        break;\r\n      case 'export':\r\n        if (typeof window !== 'undefined') {\r\n          const blob = new Blob([JSON.stringify(messages, null, 2)], { type: 'application/json' });\r\n          const url = URL.createObjectURL(blob);\r\n          const a = document.createElement('a');\r\n          a.href = url;\r\n          a.download = `strive-chat-${Date.now()}.json`;\r\n          a.click();\r\n        }\r\n        break;\r\n      case 'email':\r\n        if (typeof window !== 'undefined') {\r\n          window.open(`mailto:contact@strivetech.ai?subject=${encodeURIComponent('STRIVE AI Consultation Summary')}&body=${encodeURIComponent('I would like to discuss the AI solutions we explored.')}`);\r\n        }\r\n        break;\r\n      default:\r\n        handleSendMessage(`Tell me more about ${action.replace('_', ' ')}`);\r\n    }\r\n  }, [handleScheduleClick, messages, handleSendMessage]);\r\n\r\n  const stats = getStats();\r\n\r\n  return (\r\n    <motion.div\r\n      className={`chat-container ${mode === 'widget' ? 'widget-chat' : 'full-chat'} flex flex-col bg-gray-800 border border-gray-600 rounded-xl overflow-hidden transition-all duration-300 relative ${isMinimized ? 'h-16' : mode === 'widget' ? 'h-full' : 'h-screen'}`}\r\n      initial={{ opacity: 0, y: 50 }}\r\n      animate={{ opacity: 1, y: 0 }}\r\n      transition={{ duration: 0.3 }}\r\n      style={{ boxShadow: '0 10px 40px rgba(0, 0, 0, 0.5)' }}\r\n    >\r\n      {/* Static gradient background */}\r\n      <div className=\"absolute inset-0 overflow-hidden pointer-events-none\">\r\n        <div className=\"absolute inset-0 bg-gradient-to-br from-primary-900/10 via-transparent to-transparent opacity-50\" />\r\n      </div>\r\n\r\n      {/* Header - only in full mode */}\r\n      {mode === 'full' && (\r\n        <motion.div className=\"chat-header flex items-center justify-between p-4 bg-gray-900 text-gray-100 relative z-10 border-b border-gray-700\">\r\n          <div className=\"flex items-start justify-between w-full\">\r\n            <div className=\"flex flex-col\">\r\n              <motion.div \r\n                className=\"flex items-center mt-0 ml-5 cursor-pointer\"\r\n                whileHover={{ scale: 1.05 }}\r\n                onClick={handleWebsiteClick}\r\n              >\r\n                <motion.img \r\n                  src=\"/images/strive-wordmark.png\"\r\n                  alt=\"STRIVE\"\r\n                  className=\"h-10 w-auto\"\r\n                  style={{ filter: 'drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2))' }}\r\n                />\r\n              </motion.div>\r\n              \r\n              <motion.div className=\"flex items-center space-x-2 text-sm mt-5 ml-5 text-gray-400\">\r\n                <div className=\"flex items-center space-x-2\">\r\n                  <div className=\"w-2 h-2 rounded-full bg-green-500 glow-pulse\" />\r\n                  <span>Sai Active</span>\r\n                </div>\r\n                <span>•</span>\r\n                <span>{stats.totalMessages - 1} messages</span>\r\n                {!stats.hasApiKey && (\r\n                  <>\r\n                    <span>•</span>\r\n                    <span className=\"text-amber-400 flex items-center space-x-1\">\r\n                      <Zap size={12} />\r\n                      <span>API key needed</span>\r\n                    </span>\r\n                  </>\r\n                )}\r\n              </motion.div>\r\n            </div>\r\n            \r\n            {/* Header buttons */}\r\n            <div className=\"flex items-center space-x-2 mt-0.5\">\r\n              <motion.button\r\n                onClick={handleScheduleClick}\r\n                className=\"brand-orange-button px-4 py-2.5 text-white rounded-xl font-semibold text-sm flex items-center space-x-2\"\r\n                whileHover={{ scale: 1.05, boxShadow: \"0 0 25px rgba(229, 95, 42, 0.6)\" }}\r\n                whileTap={{ scale: 0.95 }}\r\n                transition={{ duration: 0.15 }}\r\n              >\r\n                <Calendar size={24} />\r\n                <span className=\"hidden sm:inline\">Book Call</span>\r\n              </motion.button>\r\n\r\n              {[\r\n                { icon: TrendingUp, onClick: () => setShowStats(!showStats), rotate: 360 },\r\n                { icon: RotateCcw, onClick: clearMessages, rotate: -360, className: \"danger-button\" },\r\n                { icon: isMinimized ? Maximize2 : Minimize2, onClick: () => {\r\n                  const newMinimizedState = !isMinimized;\r\n                  setIsMinimized(newMinimizedState);\r\n                  if (newMinimizedState && typeof window !== 'undefined') {\r\n                    parentComm.notifyMinimize();\r\n                  }\r\n                }, scale: [1, 1.3, 0.8, 1.1, 1] }\r\n              ].map(({ icon: Icon, onClick, rotate, scale, className = \"secondary-button hidden-mobile\" }, i) => (\r\n                <motion.button\r\n                  key={i}\r\n                  onClick={onClick}\r\n                  className={`p-3 ${className} rounded-xl`}\r\n                  whileHover={{ scale: 1.05, backgroundColor: \"rgba(255, 255, 255, 0.1)\" }}\r\n                  whileTap={{ scale: 0.95 }}\r\n                  transition={{ duration: 0.15 }}\r\n                >\r\n                  <motion.div\r\n                    whileHover={rotate ? { rotate } : scale ? { scale } : {}}\r\n                    animate={{ rotate: 0 }}\r\n                    transition={{ duration: rotate === 360 || rotate === -360 ? 0.4 : 0.5, ease: rotate === -360 ? \"linear\" : \"easeInOut\" }}\r\n                  >\r\n                    <Icon size={24} />\r\n                  </motion.div>\r\n                </motion.button>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </motion.div>\r\n      )}\r\n\r\n      {/* Stats Panel */}\r\n      <AnimatePresence>\r\n        {showStats && !isMinimized && (\r\n          <motion.div\r\n            initial={{ opacity: 0, height: 0 }}\r\n            animate={{ opacity: 1, height: \"auto\" }}\r\n            exit={{ opacity: 0, height: 0 }}\r\n            transition={{ duration: 0.3 }}\r\n            className=\"bg-gray-850 border-b border-gray-700 p-4 relative z-10\"\r\n          >\r\n            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 text-center\">\r\n              {[\r\n                { value: stats.userMessages, label: \"Your Messages\", color: \"text-primary-500\" },\r\n                { value: stats.assistantMessages, label: \"Sai Responses\", color: \"text-blue-500\" },\r\n                { value: stats.hasApiKey ? 'Active' : 'Setup', label: \"Status\", color: \"text-green-500\" },\r\n                { value: stats.isStreaming ? 'Live' : 'Ready', label: \"Connection\", color: \"text-purple-500\" }\r\n              ].map(({ value, label, color }) => (\r\n                <div key={label} className=\"bg-gray-700 rounded-xl p-3 border border-gray-600\">\r\n                  <div className={`text-2xl font-semibold ${color}`}>{value}</div>\r\n                  <div className=\"text-xs text-gray-400\">{label}</div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n\r\n      {/* Messages Area */}\r\n      <AnimatePresence>\r\n        {!isMinimized && (\r\n          <motion.div\r\n            initial={{ height: 0, opacity: 0 }}\r\n            animate={{ height: \"auto\", opacity: 1 }}\r\n            exit={{ height: 0, opacity: 0 }}\r\n            transition={{ duration: 0.3 }}\r\n            className=\"flex-1 flex flex-col relative z-10 min-h-0\"\r\n          >\r\n            <div\r\n              ref={scrollContainerRef}\r\n              className={`flex-1 overflow-y-auto space-y-4 bg-gradient-to-b from-gray-800 to-gray-900 chat-scrollbar scroll-container ${mode === 'widget' ? 'p-3 pb-32' : 'p-6 pb-64'}`}\r\n            >\r\n              {/* Service cards - only show in full mode for first message */}\r\n              {messages.length === 1 && mode === 'full' && (\r\n                <motion.div\r\n                  initial={{ opacity: 0, y: 20 }}\r\n                  animate={{ opacity: 1, y: 0 }}\r\n                  transition={{ duration: 0.3 }}\r\n                  className=\"grid md:grid-cols-3 gap-4 mb-8 hidden md:grid\"\r\n                >\r\n                  {SERVICE_CARDS.map((service, index) => (\r\n                    <ServiceCard key={index} service={service} sendMessage={sendMessage} />\r\n                  ))}\r\n                </motion.div>\r\n              )}\r\n\r\n              <QuickActions messageCount={messages.length} onAction={handleQuickAction} />\r\n\r\n              {/* Messages */}\r\n              <AnimatePresence mode=\"popLayout\">\r\n                {messages.map((message, index) => (\r\n                  <ChatMessage key={message.id} message={message} isFirst={index === 0} mode={mode} />\r\n                ))}\r\n              </AnimatePresence>\r\n              \r\n              {/* Streaming message */}\r\n              <AnimatePresence>\r\n                {isLoading && streamingMessage && (\r\n                  <ChatMessage\r\n                    message={{\r\n                      id: 'streaming',\r\n                      role: 'assistant',\r\n                      content: streamingMessage,\r\n                      timestamp: new Date()\r\n                    }}\r\n                    isStreaming={true}\r\n                    mode={mode}\r\n                  />\r\n                )}\r\n              </AnimatePresence>\r\n              \r\n              {/* Error retry */}\r\n              <AnimatePresence>\r\n                {error && (\r\n                  <motion.div\r\n                    initial={{ opacity: 0, scale: 0.9 }}\r\n                    animate={{ opacity: 1, scale: 1 }}\r\n                    exit={{ opacity: 0, scale: 0.9 }}\r\n                    className=\"flex justify-center\"\r\n                  >\r\n                    <button\r\n                      onClick={retryLastMessage}\r\n                      className=\"brand-orange-button px-6 py-3 text-white text-sm font-semibold rounded-xl flex items-center space-x-2\"\r\n                    >\r\n                      <span>Retry with Sai</span>\r\n                      <RotateCcw size={16} />\r\n                    </button>\r\n                  </motion.div>\r\n                )}\r\n              </AnimatePresence>\r\n              \r\n              <div ref={messagesEndRef} className=\"h-7\" />\r\n            </div>\r\n\r\n            {/* Scroll to Bottom Button */}\r\n            <AnimatePresence>\r\n              {showScrollButton && !isMinimized && (\r\n                <motion.button\r\n                  initial={{ opacity: 0, scale: 0.8, y: 20 }}\r\n                  animate={{ opacity: 1, scale: 1, y: 0 }}\r\n                  exit={{ opacity: 0, scale: 0.8, y: 20 }}\r\n                  transition={{ duration: 0.2, ease: \"easeOut\" }}\r\n                  onClick={handleScrollToBottom}\r\n                  className={`scroll-to-bottom-inside visible ${mode === 'widget' ? 'bottom-16' : messages.length > 1 ? 'bottom-52' : 'bottom-36'}`}\r\n                  whileHover={{ scale: 1.1 }}\r\n                  whileTap={{ scale: 0.9 }}\r\n                  aria-label=\"Scroll to bottom\"\r\n                >\r\n                  <ChevronDown size={mode === 'widget' ? 16 : 20} />\r\n                </motion.button>\r\n              )}\r\n            </AnimatePresence>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n\r\n      {/* Fixed Input Area at Bottom */}\r\n      <AnimatePresence>\r\n        {!isMinimized && (\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 50 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            exit={{ opacity: 0, y: 50 }}\r\n            transition={{ duration: 0.3 }}\r\n            className=\"absolute bottom-0 left-0 right-0 z-20\"\r\n          >\r\n            <ChatInput\r\n              onSendMessage={handleSendMessage}\r\n              isLoading={isLoading}\r\n              disabled={!stats.hasApiKey}\r\n              onStop={stopGeneration}\r\n              onClear={clearMessages}\r\n              onScheduleClick={handleScheduleClick}\r\n              mode={mode}\r\n              messageCount={messages.length}\r\n            />\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n\r\n      {/* Keyboard Shortcuts Helper */}\r\n      <AnimatePresence>\r\n        {showKeyboardShortcuts && (\r\n          <motion.div\r\n            initial={{ opacity: 0, x: -20 }}\r\n            animate={{ opacity: 1, x: 0 }}\r\n            exit={{ opacity: 0, x: -20 }}\r\n            transition={{ duration: 0.15 }}\r\n            className=\"fixed bottom-20 left-4 bg-gray-900 border border-gray-700 rounded-lg p-3 shadow-xl z-50\"\r\n          >\r\n            <h4 className=\"text-xs font-bold text-gray-300 mb-2 flex items-center gap-2\">\r\n              <Command size={14} />\r\n              Keyboard Shortcuts\r\n            </h4>\r\n            {[\r\n              { key: \"⌘+K\", action: \"Quick search\" },\r\n              { key: \"⌘+/\", action: \"Toggle shortcuts\" },\r\n              { key: \"⌘+Enter\", action: \"Send message\" },\r\n              { key: \"Esc\", action: \"Clear input\" }\r\n            ].map((shortcut, i) => (\r\n              <motion.div\r\n                key={shortcut.key}\r\n                initial={{ opacity: 0, x: -10 }}\r\n                animate={{ opacity: 1, x: 0 }}\r\n                transition={{ delay: i * 0.05, duration: 0.15 }}\r\n                className=\"flex justify-between items-center gap-4 text-xs text-gray-400 py-1\"\r\n              >\r\n                <kbd className=\"px-2 py-1 bg-gray-800 rounded text-gray-300 font-mono\">{shortcut.key}</kbd>\r\n                <span>{shortcut.action}</span>\r\n              </motion.div>\r\n            ))}\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n    </motion.div>\r\n  );\r\n};\r\n\r\nexport default ChatContainer;"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3274, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/garre/STRIVE/sai-engine/app/page.tsx"],"sourcesContent":["// app/page.tsx\n'use client';\n\nimport { useEffect, useState } from 'react';\nimport { motion } from 'framer-motion';\nimport ChatContainer from '@/components/chat/ChatContainer';\nimport parentComm from '@/app/utils/parentCommunication';\n\nexport default function Home() {\n  const [mounted, setMounted] = useState(false);\n\n  useEffect(() => {\n    setMounted(true);\n    document.documentElement.classList.add('dark');\n    document.body.classList.add('fullpage-mode');\n    \n    // Initialize parent communication\n    if (typeof window !== 'undefined') {\n      parentComm.initializeWhenReady();\n      \n      // Backup messages\n      const timer1 = setTimeout(() => {\n        parentComm.initializeWhenReady();\n      }, 1000);\n\n      const timer3 = setTimeout(() => {\n        parentComm.initializeWhenReady();\n      }, 3000);\n\n      return () => {\n        clearTimeout(timer1);\n        clearTimeout(timer3);\n      };\n    }\n  }, []);\n\n  if (!mounted) {\n    return (\n      <div className=\"h-screen bg-gradient-to-br from-gray-900 to-gray-800 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"w-16 h-16 mx-auto mb-4\">\n            <img \n              src=\"/images/strive-triangle.svg\"\n              alt=\"Loading\"\n              className=\"w-full h-full animate-spin\"\n              style={{ \n                filter: 'drop-shadow(0 8px 20px rgba(245, 104, 52, 0.5))'\n              }}\n            />\n          </div>\n          <p className=\"text-gray-200 font-medium text-lg\">Loading AI Solutions Platform...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-700 overflow-hidden\">\n      <div className=\"relative z-10 min-h-screen flex flex-col py-6 px-4\">\n        <div className=\"w-full max-w-4xl mx-auto flex-1 flex flex-col\">\n          <motion.div\n            className=\"flex-1 min-h-0\"\n            initial={{ opacity: 0, scale: 0.9, y: 60 }}\n            animate={{ opacity: 1, scale: 1, y: 0 }}\n            transition={{\n              duration: 1,\n              ease: \"easeOut\",\n              type: \"spring\",\n              stiffness: 100,\n              delay: 0.2\n            }}\n          >\n            <ChatContainer mode=\"full\" />\n          </motion.div>\n        </div>\n      </div>\n\n      {/* Dev indicator */}\n      {process.env.NODE_ENV === 'development' && (\n        <div className=\"fixed bottom-4 left-4 text-xs text-gray-400 bg-gray-800 bg-opacity-80 px-3 py-2 rounded-lg backdrop-blur-sm shadow-lg border border-gray-600\">\n          Dev Mode • Next.js\n        </div>\n      )}\n    </div>\n  );\n}"],"names":[],"mappings":"AAAA,eAAe;;;;;AA8ER;;AA3EP;AACA;AACA;AACA;;;AALA;;;;;AAOe,SAAS;;IACtB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,IAAA,0KAAS;0BAAC;YACR,WAAW;YACX,SAAS,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC;YACvC,SAAS,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC;YAE5B,kCAAkC;YAClC,wCAAmC;gBACjC,iJAAU,CAAC,mBAAmB;gBAE9B,kBAAkB;gBAClB,MAAM,SAAS;6CAAW;wBACxB,iJAAU,CAAC,mBAAmB;oBAChC;4CAAG;gBAEH,MAAM,SAAS;6CAAW;wBACxB,iJAAU,CAAC,mBAAmB;oBAChC;4CAAG;gBAEH;sCAAO;wBACL,aAAa;wBACb,aAAa;oBACf;;YACF;QACF;yBAAG,EAAE;IAEL,IAAI,CAAC,SAAS;QACZ,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC;4BACC,KAAI;4BACJ,KAAI;4BACJ,WAAU;4BACV,OAAO;gCACL,QAAQ;4BACV;;;;;;;;;;;kCAGJ,6LAAC;wBAAE,WAAU;kCAAoC;;;;;;;;;;;;;;;;;IAIzD;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC,uMAAM,CAAC,GAAG;wBACT,WAAU;wBACV,SAAS;4BAAE,SAAS;4BAAG,OAAO;4BAAK,GAAG;wBAAG;wBACzC,SAAS;4BAAE,SAAS;4BAAG,OAAO;4BAAG,GAAG;wBAAE;wBACtC,YAAY;4BACV,UAAU;4BACV,MAAM;4BACN,MAAM;4BACN,WAAW;4BACX,OAAO;wBACT;kCAEA,cAAA,6LAAC,kJAAa;4BAAC,MAAK;;;;;;;;;;;;;;;;;;;;;YAMzB,oDAAyB,+BACxB,6LAAC;gBAAI,WAAU;0BAA+I;;;;;;;;;;;;AAMtK;GA7EwB;KAAA","debugId":null}}]
}