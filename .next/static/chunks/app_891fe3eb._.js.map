{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/garre/STRIVE/sai-engine/app/utils/parentCommunication.ts"],"sourcesContent":["// app/utils/parentCommunication.ts\r\n'use client';\r\n\r\nclass ParentCommunication {\r\n  private debugMode: boolean;\r\n  private allowedOrigins: string[];\r\n  private parentOrigin: string;\r\n  private messageQueue: any[];\r\n  private isReady: boolean;\r\n\r\n  constructor() {\r\n    // Check for debug mode\r\n    if (typeof window !== 'undefined') {\r\n      const urlParams = new URLSearchParams(window.location.search);\r\n      this.debugMode = urlParams.get('debug') === 'true' || process.env.NODE_ENV === 'development';\r\n    } else {\r\n      this.debugMode = false;\r\n    }\r\n\r\n    // Allow both production and development origins\r\n    this.allowedOrigins = [\r\n      'https://strivetech.ai',\r\n      'https://www.strivetech.ai',\r\n      'https://strive-website-8xot95578-strive-tech.vercel.app',\r\n      'http://localhost:5000',\r\n      'http://localhost:3000',\r\n      'http://localhost:5173',\r\n      'http://127.0.0.1:5000',\r\n      'http://127.0.0.1:3000',\r\n      'http://127.0.0.1:5173'\r\n    ];\r\n\r\n    this.parentOrigin = this.detectParentOrigin();\r\n    this.messageQueue = [];\r\n    this.isReady = false;\r\n\r\n    if (typeof window !== 'undefined') {\r\n      this.setupEventListeners();\r\n      this.setupResizeObserver();\r\n\r\n      // Send ready message immediately when DOM is loaded\r\n      if (document.readyState === 'loading') {\r\n        document.addEventListener('DOMContentLoaded', () => {\r\n          this.debugLog('üöÄ DOM loaded - sending immediate ready message', true);\r\n          this.sendReadyMessage();\r\n        });\r\n      } else {\r\n        this.debugLog('üöÄ DOM already loaded - sending immediate ready message', true);\r\n        setTimeout(() => this.sendReadyMessage(), 100);\r\n      }\r\n    }\r\n\r\n    this.debugLog('üîß ParentCommunication initialized');\r\n    this.debugLog(`üêõ Debug mode: ${this.debugMode ? 'ENABLED' : 'disabled'}`);\r\n    this.debugLog(`üåê Parent origin: ${this.parentOrigin}`);\r\n    this.debugLog(`üñºÔ∏è In iframe: ${typeof window !== 'undefined' && window.parent !== window}`);\r\n  }\r\n\r\n  debugLog(message: string, force: boolean = false) {\r\n    if (this.debugMode || force) {\r\n      console.log(`[ParentComm] ${message}`);\r\n    }\r\n  }\r\n\r\n  detectParentOrigin(): string {\r\n    if (typeof window === 'undefined') return 'https://strivetech.ai';\r\n\r\n    // Try to get parent origin from URL parameter\r\n    const urlParams = new URLSearchParams(window.location.search);\r\n    const parentParam = urlParams.get('parent');\r\n    if (parentParam) {\r\n      this.debugLog(`üéØ Parent origin from URL: ${parentParam}`);\r\n      return parentParam;\r\n    }\r\n\r\n    // Try to detect from document referrer\r\n    if (document.referrer) {\r\n      try {\r\n        const referrerUrl = new URL(document.referrer);\r\n        this.debugLog(`üéØ Parent origin from referrer: ${referrerUrl.origin}`);\r\n        return referrerUrl.origin;\r\n      } catch (e) {\r\n        this.debugLog(`‚ö†Ô∏è Could not parse referrer: ${e}`);\r\n      }\r\n    }\r\n\r\n    this.debugLog('üéØ Using default parent origin: https://strivetech.ai');\r\n    return 'https://strivetech.ai';\r\n  }\r\n\r\n  setupEventListeners() {\r\n    if (typeof window === 'undefined') return;\r\n\r\n    // Listen for messages from parent\r\n    window.addEventListener('message', this.handleParentMessage.bind(this));\r\n\r\n    // Notify parent when closing\r\n    window.addEventListener('beforeunload', () => {\r\n      this.sendToParent('close');\r\n    });\r\n\r\n    // Handle visibility changes\r\n    document.addEventListener('visibilitychange', () => {\r\n      this.sendToParent('visibility', {\r\n        visible: document.visibilityState === 'visible'\r\n      });\r\n    });\r\n  }\r\n\r\n  setupResizeObserver() {\r\n    if (typeof window === 'undefined' || !window.ResizeObserver) return;\r\n\r\n    const resizeObserver = new ResizeObserver(() => {\r\n      this.notifyResize();\r\n    });\r\n\r\n    // Observe body for size changes\r\n    resizeObserver.observe(document.body);\r\n\r\n    // Also observe the chat container if it exists\r\n    const chatContainer = document.querySelector('.chat-container');\r\n    if (chatContainer) {\r\n      resizeObserver.observe(chatContainer);\r\n    }\r\n  }\r\n\r\n  handleParentMessage(event: MessageEvent) {\r\n    // Security: validate origin\r\n    if (!this.allowedOrigins.includes(event.origin)) {\r\n      console.warn('Ignored message from untrusted origin:', event.origin);\r\n      return;\r\n    }\r\n\r\n    const { type, data, source } = event.data || {};\r\n\r\n    // Only handle messages from website\r\n    if (source && source !== 'strivetech-website') {\r\n      console.warn('Ignored message from unknown source:', source);\r\n      return;\r\n    }\r\n\r\n    switch(type) {\r\n      case 'visibility':\r\n        this.handleVisibilityChange(data?.visible);\r\n        break;\r\n      case 'mode':\r\n        this.handleModeChange(data?.mode);\r\n        break;\r\n      case 'container_resize':\r\n        this.handleContainerResize(data?.width, data?.height);\r\n        break;\r\n      case 'ping':\r\n        this.sendToParent('pong', { timestamp: Date.now() });\r\n        break;\r\n      default:\r\n        console.log('Unknown message type:', type);\r\n    }\r\n  }\r\n\r\n  handleVisibilityChange(isVisible: boolean) {\r\n    if (typeof window === 'undefined') return;\r\n    \r\n    const event = new CustomEvent('chatbot:visibility', {\r\n      detail: { visible: isVisible }\r\n    });\r\n    window.dispatchEvent(event);\r\n  }\r\n\r\n  handleModeChange(mode: string) {\r\n    if (typeof window === 'undefined') return;\r\n    \r\n    const event = new CustomEvent('chatbot:mode', {\r\n      detail: { mode }\r\n    });\r\n    window.dispatchEvent(event);\r\n  }\r\n\r\n  handleContainerResize(width: number, height: number) {\r\n    if (typeof window === 'undefined') return;\r\n    \r\n    const event = new CustomEvent('chatbot:resize', {\r\n      detail: { width, height }\r\n    });\r\n    window.dispatchEvent(event);\r\n  }\r\n\r\n  sendReadyMessage() {\r\n    this.debugLog('üì§ Sending immediate ready message', true);\r\n    this.sendToParent('ready', {\r\n      version: '1.0.0',\r\n      mode: this.detectMode(),\r\n      capabilities: ['chat', 'streaming', 'analytics'],\r\n      timestamp: Date.now()\r\n    });\r\n  }\r\n\r\n  initializeWhenReady() {\r\n    this.debugLog('üîß initializeWhenReady called', true);\r\n    this.debugLog(`üñºÔ∏è iframe check: ${typeof window !== 'undefined' && window.parent !== window}`, true);\r\n    this.debugLog(`üìç current URL: ${typeof window !== 'undefined' ? window.location.href : 'N/A'}`, true);\r\n    this.debugLog(`üìä ready status: ${this.isReady}`, true);\r\n\r\n    if (!this.isReady) {\r\n      this.debugLog('üöÄ Sending initial ready message...', true);\r\n      this.notifyReady();\r\n    } else {\r\n      this.debugLog('‚ö†Ô∏è Already ready, sending ready message again for reliability...', true);\r\n      this.sendToParent('ready', {\r\n        version: '1.0.0',\r\n        mode: this.detectMode(),\r\n        capabilities: ['chat', 'streaming', 'analytics'],\r\n        timestamp: Date.now()\r\n      });\r\n    }\r\n  }\r\n\r\n  notifyReady() {\r\n    this.isReady = true;\r\n    this.debugLog('üì§ Sending ready message to parent...', true);\r\n    this.sendToParent('ready', {\r\n      version: '1.0.0',\r\n      mode: this.detectMode(),\r\n      capabilities: ['chat', 'streaming', 'analytics'],\r\n      timestamp: Date.now()\r\n    });\r\n\r\n    this.flushMessageQueue();\r\n  }\r\n\r\n  notifyResize() {\r\n    if (typeof window === 'undefined' || typeof document === 'undefined') return;\r\n\r\n    const height = Math.max(\r\n      document.body.scrollHeight,\r\n      document.body.offsetHeight,\r\n      document.documentElement.clientHeight,\r\n      document.documentElement.scrollHeight,\r\n      document.documentElement.offsetHeight\r\n    );\r\n\r\n    const width = Math.max(\r\n      document.body.scrollWidth,\r\n      document.body.offsetWidth,\r\n      document.documentElement.clientWidth,\r\n      document.documentElement.scrollWidth,\r\n      document.documentElement.offsetWidth\r\n    );\r\n\r\n    this.sendToParent('resize', { height, width });\r\n  }\r\n\r\n  notifyError(error: Error, code: string = 'UNKNOWN_ERROR', recoverable: boolean = true) {\r\n    this.sendToParent('error', {\r\n      error: error.message || 'Unknown error',\r\n      code,\r\n      recoverable,\r\n      stack: error.stack,\r\n      timestamp: Date.now()\r\n    });\r\n  }\r\n\r\n  notifyMinimize() {\r\n    this.sendToParent('minimize', {});\r\n  }\r\n\r\n  notifyClose() {\r\n    this.sendToParent('close', {});\r\n  }\r\n\r\n  notifyNavigate(url: string, target: string = '_self') {\r\n    this.sendToParent('navigate', {\r\n      url,\r\n      target\r\n    });\r\n  }\r\n\r\n  notifyAnalytics(event: string, properties: Record<string, any> = {}) {\r\n    this.sendToParent('analytics', {\r\n      event,\r\n      properties,\r\n      timestamp: Date.now()\r\n    });\r\n  }\r\n\r\n  detectMode(): string {\r\n    if (typeof window === 'undefined') return 'full';\r\n    \r\n    const path = window.location.pathname;\r\n    if (path.includes('/widget')) return 'widget';\r\n    if (path.includes('/full')) return 'full';\r\n    return 'full';\r\n  }\r\n\r\n  sendToParent(type: string, data: any = {}) {\r\n    if (typeof window === 'undefined') return;\r\n\r\n    const message = {\r\n      type,\r\n      data,\r\n      timestamp: Date.now(),\r\n      source: 'sai-chatbot'\r\n    };\r\n\r\n    // Queue messages if not ready yet\r\n    if (!this.isReady && type !== 'ready') {\r\n      this.messageQueue.push(message);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      // Send to all known origins for maximum compatibility\r\n      window.parent.postMessage(message, '*');\r\n      window.parent.postMessage(message, 'https://strive-website-8xot95578-strive-tech.vercel.app');\r\n\r\n      this.debugLog(`‚úÖ PostMessage sent: ${JSON.stringify(message)}`, true);\r\n    } catch (error) {\r\n      this.debugLog(`‚ùå PostMessage failed: ${error}`, true);\r\n    }\r\n  }\r\n\r\n  flushMessageQueue() {\r\n    if (typeof window === 'undefined') return;\r\n\r\n    while (this.messageQueue.length > 0) {\r\n      const message = this.messageQueue.shift();\r\n      window.parent.postMessage(message, '*');\r\n      window.parent.postMessage(message, 'https://strive-website-8xot95578-strive-tech.vercel.app');\r\n    }\r\n  }\r\n}\r\n\r\n// Create and export singleton instance\r\nconst parentComm = new ParentCommunication();\r\n\r\n// Expose for debugging in development\r\nif (typeof window !== 'undefined' && process.env.NODE_ENV === 'development') {\r\n  (window as any).parentComm = parentComm;\r\n}\r\n\r\nexport default parentComm;"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 326, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/garre/STRIVE/sai-engine/app/page.tsx"],"sourcesContent":["// app/page.tsx\n'use client';\n\nimport { useEffect, useState } from 'react';\nimport { motion } from 'framer-motion';\nimport ChatContainer from './components/chat/ChatContainer';\nimport parentComm from './utils/parentCommunication';\n\nexport default function Home() {\n  const [mounted, setMounted] = useState(false);\n\n  useEffect(() => {\n    setMounted(true);\n    document.documentElement.classList.add('dark');\n    document.body.classList.add('fullpage-mode');\n    \n    // Initialize parent communication\n    if (typeof window !== 'undefined') {\n      parentComm.initializeWhenReady();\n      \n      // Backup messages\n      const timer1 = setTimeout(() => {\n        parentComm.initializeWhenReady();\n      }, 1000);\n\n      const timer3 = setTimeout(() => {\n        parentComm.initializeWhenReady();\n      }, 3000);\n\n      return () => {\n        clearTimeout(timer1);\n        clearTimeout(timer3);\n      };\n    }\n  }, []);\n\n  if (!mounted) {\n    return (\n      <div className=\"h-screen bg-gradient-to-br from-gray-900 to-gray-800 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"w-16 h-16 mx-auto mb-4\">\n            <img \n              src=\"/images/strive-triangle.svg\"\n              alt=\"Loading\"\n              className=\"w-full h-full animate-spin\"\n              style={{ \n                filter: 'drop-shadow(0 8px 20px rgba(245, 104, 52, 0.5))'\n              }}\n            />\n          </div>\n          <p className=\"text-gray-200 font-medium text-lg\">Loading AI Solutions Platform...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-700 overflow-hidden\">\n      <div className=\"relative z-10 min-h-screen flex flex-col py-6 px-4\">\n        <div className=\"w-full max-w-4xl mx-auto flex-1 flex flex-col\">\n          <motion.div\n            className=\"flex-1 min-h-0\"\n            initial={{ opacity: 0, scale: 0.9, y: 60 }}\n            animate={{ opacity: 1, scale: 1, y: 0 }}\n            transition={{\n              duration: 1,\n              ease: \"easeOut\",\n              type: \"spring\",\n              stiffness: 100,\n              delay: 0.2\n            }}\n          >\n            <ChatContainer mode=\"full\" />\n          </motion.div>\n        </div>\n      </div>\n\n      {/* Dev indicator */}\n      {process.env.NODE_ENV === 'development' && (\n        <div className=\"fixed bottom-4 left-4 text-xs text-gray-400 bg-gray-800 bg-opacity-80 px-3 py-2 rounded-lg backdrop-blur-sm shadow-lg border border-gray-600\">\n          Dev Mode ‚Ä¢ Next.js\n        </div>\n      )}\n    </div>\n  );\n}"],"names":[],"mappings":"AAAA,eAAe;;;;;AA8ER;;AA3EP;AACA;;;;;;AAEA;;;AALA;;;;;AAOe,SAAS;;IACtB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,IAAA,0KAAS;0BAAC;YACR,WAAW;YACX,SAAS,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC;YACvC,SAAS,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC;YAE5B,kCAAkC;YAClC,wCAAmC;gBACjC,iJAAU,CAAC,mBAAmB;gBAE9B,kBAAkB;gBAClB,MAAM,SAAS;6CAAW;wBACxB,iJAAU,CAAC,mBAAmB;oBAChC;4CAAG;gBAEH,MAAM,SAAS;6CAAW;wBACxB,iJAAU,CAAC,mBAAmB;oBAChC;4CAAG;gBAEH;sCAAO;wBACL,aAAa;wBACb,aAAa;oBACf;;YACF;QACF;yBAAG,EAAE;IAEL,IAAI,CAAC,SAAS;QACZ,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC;4BACC,KAAI;4BACJ,KAAI;4BACJ,WAAU;4BACV,OAAO;gCACL,QAAQ;4BACV;;;;;;;;;;;kCAGJ,6LAAC;wBAAE,WAAU;kCAAoC;;;;;;;;;;;;;;;;;IAIzD;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC,uMAAM,CAAC,GAAG;wBACT,WAAU;wBACV,SAAS;4BAAE,SAAS;4BAAG,OAAO;4BAAK,GAAG;wBAAG;wBACzC,SAAS;4BAAE,SAAS;4BAAG,OAAO;4BAAG,GAAG;wBAAE;wBACtC,YAAY;4BACV,UAAU;4BACV,MAAM;4BACN,MAAM;4BACN,WAAW;4BACX,OAAO;wBACT;kCAEA,cAAA,6LAAC;4BAAc,MAAK;;;;;;;;;;;;;;;;;;;;;YAMzB,oDAAyB,+BACxB,6LAAC;gBAAI,WAAU;0BAA+I;;;;;;;;;;;;AAMtK;GA7EwB;KAAA","debugId":null}}]
}